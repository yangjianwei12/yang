<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Trap API: MIRRORING</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Trap API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__trapset__mirroring.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">MIRRORING<div class="ingroups"><a class="el" href="group__api.html">Customer Trap API</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga932eeb46d44a652c632624e33de7633d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trapset__mirroring.html#ga932eeb46d44a652c632624e33de7633d">AclEstablishCommit</a> (const <a class="el" href="structtp__bdaddr.html">tp_bdaddr</a> *tpaddr)</td></tr>
<tr class="memdesc:ga932eeb46d44a652c632624e33de7633d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This trap should be called by application on secondary device to commit to new primary role for non-mirrored ACL link with given remote device. Application must call AclHandoverCommit to commit to new primary role for mirrored ACL link with a separate remote device prior to this trap call.  <a href="#ga932eeb46d44a652c632624e33de7633d">More...</a><br/></td></tr>
<tr class="separator:ga932eeb46d44a652c632624e33de7633d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga63b42a026722c8ba6d58e044f36ad1ac"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trapset__mirroring.html#ga63b42a026722c8ba6d58e044f36ad1ac">AclHandoverCancel</a> (uint16 handle)</td></tr>
<tr class="memdesc:ga63b42a026722c8ba6d58e044f36ad1ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">This trap may be called by the primary and the secondary devices to cancel the handover operation.  <a href="#ga63b42a026722c8ba6d58e044f36ad1ac">More...</a><br/></td></tr>
<tr class="separator:ga63b42a026722c8ba6d58e044f36ad1ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1fe68ad83bd05918d21fbbbba17bff94"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trapset__mirroring.html#ga1fe68ad83bd05918d21fbbbba17bff94">AclHandoverCommit</a> (uint16 handle)</td></tr>
<tr class="memdesc:ga1fe68ad83bd05918d21fbbbba17bff94"><td class="mdescLeft">&#160;</td><td class="mdescRight">This trap should be called by both primary and secondary devices to commit to resuming operation with the mirrored device in the new secondary or primary role.  <a href="#ga1fe68ad83bd05918d21fbbbba17bff94">More...</a><br/></td></tr>
<tr class="separator:ga1fe68ad83bd05918d21fbbbba17bff94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaab0d70189633625fc907b0b079c5d4c1"><td class="memItemLeft" align="right" valign="top">uint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trapset__mirroring.html#gaab0d70189633625fc907b0b079c5d4c1">AclHandoverPrepare</a> (const <a class="el" href="structtp__bdaddr.html">tp_bdaddr</a> *acl_addr, const <a class="el" href="structtp__bdaddr.html">tp_bdaddr</a> *recipient)</td></tr>
<tr class="memdesc:gaab0d70189633625fc907b0b079c5d4c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare the device for ACL handover.  <a href="#gaab0d70189633625fc907b0b079c5d4c1">More...</a><br/></td></tr>
<tr class="separator:gaab0d70189633625fc907b0b079c5d4c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaed788b0415211275e525e52610b7f4ec"><td class="memItemLeft" align="right" valign="top">acl_handover_prepare_status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trapset__mirroring.html#gaed788b0415211275e525e52610b7f4ec">AclHandoverPrepared</a> (uint16 handle)</td></tr>
<tr class="memdesc:gaed788b0415211275e525e52610b7f4ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the device is prepared to handover the ACL.  <a href="#gaed788b0415211275e525e52610b7f4ec">More...</a><br/></td></tr>
<tr class="separator:gaed788b0415211275e525e52610b7f4ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b1968205b027bd603e0cff54d25d44c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trapset__mirroring.html#ga0b1968205b027bd603e0cff54d25d44c">AclHandoverRoleCommit</a> (uint16 handle, mirror_role_t role)</td></tr>
<tr class="memdesc:ga0b1968205b027bd603e0cff54d25d44c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This trap should be called by both primary and secondary devices to commit to resuming operation with the mirrored device in the new secondary or primary role.  <a href="#ga0b1968205b027bd603e0cff54d25d44c">More...</a><br/></td></tr>
<tr class="separator:ga0b1968205b027bd603e0cff54d25d44c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7f2f70dafc36751bb0512ecaf5722849"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trapset__mirroring.html#ga7f2f70dafc36751bb0512ecaf5722849">AclReliableMirrorDebugStatistics</a> (const <a class="el" href="structtp__bdaddr.html">tp_bdaddr</a> *tpaddr, acl_reliable_mirror_debug_statistics_t *statistics)</td></tr>
<tr class="memdesc:ga7f2f70dafc36751bb0512ecaf5722849"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read debug statistics for reliable ACL mirroring. This trap should be called on primary device only.  <a href="#ga7f2f70dafc36751bb0512ecaf5722849">More...</a><br/></td></tr>
<tr class="separator:ga7f2f70dafc36751bb0512ecaf5722849"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab215a7e45af8240428971e5c3e55c988"><td class="memItemLeft" align="right" valign="top"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trapset__mirroring.html#gab215a7e45af8240428971e5c3e55c988">MessageMdmTask</a> (<a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> task)</td></tr>
<tr class="memdesc:gab215a7e45af8240428971e5c3e55c988"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a task to handle BlueStack Mirroring Manager(MDM) primitives.  <a href="#gab215a7e45af8240428971e5c3e55c988">More...</a><br/></td></tr>
<tr class="separator:gab215a7e45af8240428971e5c3e55c988"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac96d22db3d40c054c1004abb65ebb8b2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trapset__mirroring.html#gac96d22db3d40c054c1004abb65ebb8b2">SinkL2capFilterPackets</a> (<a class="el" href="sink___8h.html#a250a23fcb6a29255bb2526a002d691b2">Sink</a> sink, bool enable, sink_filter_path path, uint8 filter_index, uint8 filter_mask, uint8 filter_result)</td></tr>
<tr class="memdesc:gac96d22db3d40c054c1004abb65ebb8b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Operations on sinks which take 8-bit data.  <a href="#gac96d22db3d40c054c1004abb65ebb8b2">More...</a><br/></td></tr>
<tr class="separator:gac96d22db3d40c054c1004abb65ebb8b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga12c67088237cd5552c94e75a91cabd0c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sink___8h.html#a250a23fcb6a29255bb2526a002d691b2">Sink</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trapset__mirroring.html#ga12c67088237cd5552c94e75a91cabd0c">StreamAclEstablishSink</a> (const <a class="el" href="structtp__bdaddr.html">tp_bdaddr</a> *tpaddr)</td></tr>
<tr class="memdesc:ga12c67088237cd5552c94e75a91cabd0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the sink to unmarshal data for non-mirrored ACL link with given remote device.  <a href="#ga12c67088237cd5552c94e75a91cabd0c">More...</a><br/></td></tr>
<tr class="separator:ga12c67088237cd5552c94e75a91cabd0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6813630b903a29e82babf12570da67c0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sink___8h.html#a250a23fcb6a29255bb2526a002d691b2">Sink</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trapset__mirroring.html#ga6813630b903a29e82babf12570da67c0">StreamAclMarshalSink</a> (const <a class="el" href="structtp__bdaddr.html">tp_bdaddr</a> *tpaddr)</td></tr>
<tr class="memdesc:ga6813630b903a29e82babf12570da67c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the sink to unmarshal data for ACL link with given remote device.  <a href="#ga6813630b903a29e82babf12570da67c0">More...</a><br/></td></tr>
<tr class="separator:ga6813630b903a29e82babf12570da67c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac21e0ddc51ef09b8c8a3cef222db41a9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="source___8h.html#afbe187e42995c6b6af38624c70e7a3e2">Source</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trapset__mirroring.html#gac21e0ddc51ef09b8c8a3cef222db41a9">StreamAclMarshalSource</a> (const <a class="el" href="structtp__bdaddr.html">tp_bdaddr</a> *tpaddr)</td></tr>
<tr class="memdesc:gac21e0ddc51ef09b8c8a3cef222db41a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the source containing marshal data for ACL link with given remote device.  <a href="#gac21e0ddc51ef09b8c8a3cef222db41a9">More...</a><br/></td></tr>
<tr class="separator:gac21e0ddc51ef09b8c8a3cef222db41a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5fe2db4250a64b52d7515aa33935b8a1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="source___8h.html#afbe187e42995c6b6af38624c70e7a3e2">Source</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trapset__mirroring.html#ga5fe2db4250a64b52d7515aa33935b8a1">StreamAudioSyncSource</a> (<a class="el" href="operator___8h.html#a018b8532a63fb6b78535ce44aa4922e4">Operator</a> opid)</td></tr>
<tr class="memdesc:ga5fe2db4250a64b52d7515aa33935b8a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the source to get audio synchronisation packets.  <a href="#ga5fe2db4250a64b52d7515aa33935b8a1">More...</a><br/></td></tr>
<tr class="separator:ga5fe2db4250a64b52d7515aa33935b8a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacff2a1418b144b0773c65ead569120f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trapset__mirroring.html#gacff2a1418b144b0773c65ead569120f0">VmSendMdmPrim</a> (void *prim)</td></tr>
<tr class="memdesc:gacff2a1418b144b0773c65ead569120f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a BlueStack Mirroring Manager(MDM) primitive.  <a href="#gacff2a1418b144b0773c65ead569120f0">More...</a><br/></td></tr>
<tr class="separator:gacff2a1418b144b0773c65ead569120f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga932eeb46d44a652c632624e33de7633d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool AclEstablishCommit </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtp__bdaddr.html">tp_bdaddr</a> *&#160;</td>
          <td class="paramname"><em>tpaddr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This trap should be called by application on secondary device to commit to new primary role for non-mirrored ACL link with given remote device. Application must call AclHandoverCommit to commit to new primary role for mirrored ACL link with a separate remote device prior to this trap call. </p>
<p>On the secondary this trap should be called to complete the handover for a non-mirrored ACL link after SinkFlushBlocking is successful. This trap should not be used on primary or for a mirrored link.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tpaddr</td><td>Bluetooth address of remote device. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if operation is success, FALSE otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="ga63b42a026722c8ba6d58e044f36ad1ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool AclHandoverCancel </td>
          <td>(</td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This trap may be called by the primary and the secondary devices to cancel the handover operation. </p>
<p>On the primary side this trap may be called after calling <a class="el" href="group__trapset__mirroring.html#gaed788b0415211275e525e52610b7f4ec" title="Check if the device is prepared to handover the ACL. ">AclHandoverPrepared()</a>. On the secondary side this trap may be called before getting remote slave bdaddr change indication.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>On the primary device, this will be the handle value returned by "AclHandoverPrepare()". On the secondary device, this will be connection_handle parameter in mirror acl link create indication </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if operation is success, FALSE otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="ga1fe68ad83bd05918d21fbbbba17bff94"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool AclHandoverCommit </td>
          <td>(</td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This trap should be called by both primary and secondary devices to commit to resuming operation with the mirrored device in the new secondary or primary role. </p>
<dl class="section note"><dt>Note</dt><dd>This function has been deprecated. Please use AclHandoverRoleCommit instead. On the primary device, this trap should be called after successful device role switch. On the secondary device, this trap should be called after slave address change indication. This trap should not be used on primary or secondary if <a class="el" href="group__trapset__mirroring.html#gaed788b0415211275e525e52610b7f4ec" title="Check if the device is prepared to handover the ACL. ">AclHandoverPrepared()</a> trap on primary returned failure status.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>On the primary device, this will be the handle value returned by "AclHandoverPrepare()". On the secondary device, this will be connection_handle parameter in mirror acl link create indication </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if operation is success, FALSE otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="gaab0d70189633625fc907b0b079c5d4c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16 AclHandoverPrepare </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtp__bdaddr.html">tp_bdaddr</a> *&#160;</td>
          <td class="paramname"><em>acl_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtp__bdaddr.html">tp_bdaddr</a> *&#160;</td>
          <td class="paramname"><em>recipient</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepare the device for ACL handover. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">acl_addr</td><td>The address of the device for which handover to be prepared. </td></tr>
    <tr><td class="paramname">recipient</td><td>The address of the recipient device. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Valid handle if handover preparation started successfully, otherwise returns 0xFFFF. This handle should be used in subsequent Aclhandover traps as a handle for this handover session. </dd></dl>

</div>
</div>
<a class="anchor" id="gaed788b0415211275e525e52610b7f4ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">acl_handover_prepare_status AclHandoverPrepared </td>
          <td>(</td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the device is prepared to handover the ACL. </p>
<p>This trap should be called after <a class="el" href="group__trapset__mirroring.html#gaab0d70189633625fc907b0b079c5d4c1" title="Prepare the device for ACL handover. ">AclHandoverPrepare()</a> trap.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>The handle value returned by "AclHandoverPrepare()". </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status of the operation. </dd></dl>

</div>
</div>
<a class="anchor" id="ga0b1968205b027bd603e0cff54d25d44c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool AclHandoverRoleCommit </td>
          <td>(</td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mirror_role_t&#160;</td>
          <td class="paramname"><em>role</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This trap should be called by both primary and secondary devices to commit to resuming operation with the mirrored device in the new secondary or primary role. </p>
<p>On the primary device, this trap should be called after successful device role switch. On the secondary device, this trap should be called after slave address change indication. This trap should not be used on primary or secondary if <a class="el" href="group__trapset__mirroring.html#gaed788b0415211275e525e52610b7f4ec" title="Check if the device is prepared to handover the ACL. ">AclHandoverPrepared()</a> trap on primary returned failure status.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>On the primary device, this will be the handle value returned by "AclHandoverPrepare()". On the secondary device, this will be connection_handle parameter in mirror acl link create indication </td></tr>
    <tr><td class="paramname">role</td><td>The new role to commit, 0x00 for Primary, 0x01 for Secondary</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if operation is success, FALSE otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="ga7f2f70dafc36751bb0512ecaf5722849"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool AclReliableMirrorDebugStatistics </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtp__bdaddr.html">tp_bdaddr</a> *&#160;</td>
          <td class="paramname"><em>tpaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">acl_reliable_mirror_debug_statistics_t *&#160;</td>
          <td class="paramname"><em>statistics</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read debug statistics for reliable ACL mirroring. This trap should be called on primary device only. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tpaddr</td><td>Bluetooth address of device using ACL link that is being mirrored </td></tr>
    <tr><td class="paramname">statistics</td><td>Pointer to the memory to write debug statistics if successful. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if debug statistics have been read successfully, FALSE otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="gab215a7e45af8240428971e5c3e55c988"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> MessageMdmTask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a task to handle BlueStack Mirroring Manager(MDM) primitives. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>This task will receive #MESSAGE_BLUESTACK_MDM_PRIM. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The old task (or zero). </dd></dl>

</div>
</div>
<a class="anchor" id="gac96d22db3d40c054c1004abb65ebb8b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SinkL2capFilterPackets </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sink___8h.html#a250a23fcb6a29255bb2526a002d691b2">Sink</a>&#160;</td>
          <td class="paramname"><em>sink</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sink_filter_path&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>filter_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>filter_mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>filter_result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Operations on sinks which take 8-bit data. </p>
<p>file Filter incoming packets on the given L2Cap sink. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sink</td><td>The sink to apply the filter to. </td></tr>
    <tr><td class="paramname">enable</td><td>TRUE to enable the filter as specified, FALSE to disable an existing filter. </td></tr>
    <tr><td class="paramname">path</td><td>The path to apply the filter to. </td></tr>
    <tr><td class="paramname">filter_index</td><td>The octet offset into the packet where the filter mask will be applied. </td></tr>
    <tr><td class="paramname">filter_mask</td><td>The filter mask to be applied to the 'index' octet. </td></tr>
    <tr><td class="paramname">filter_result</td><td>Value to check against after applying the mask. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if filter applied successfully, FALSE otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="ga12c67088237cd5552c94e75a91cabd0c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sink___8h.html#a250a23fcb6a29255bb2526a002d691b2">Sink</a> StreamAclEstablishSink </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtp__bdaddr.html">tp_bdaddr</a> *&#160;</td>
          <td class="paramname"><em>tpaddr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the sink to unmarshal data for non-mirrored ACL link with given remote device. </p>
<p>SinkFlushBlocking should be used for StreamAclEstablishSink stream to ensure that the data written into sink stream has been unmarshalled before trap return. The return status can be used to detect failure to unmarshal data for non-mirrored ACL link</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tpaddr</td><td>Bluetooth address of remote device. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga6813630b903a29e82babf12570da67c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sink___8h.html#a250a23fcb6a29255bb2526a002d691b2">Sink</a> StreamAclMarshalSink </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtp__bdaddr.html">tp_bdaddr</a> *&#160;</td>
          <td class="paramname"><em>tpaddr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the sink to unmarshal data for ACL link with given remote device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tpaddr</td><td>Bluetooth address of remote device. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if no ACL connection exists with remote device </dd></dl>

</div>
</div>
<a class="anchor" id="gac21e0ddc51ef09b8c8a3cef222db41a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="source___8h.html#afbe187e42995c6b6af38624c70e7a3e2">Source</a> StreamAclMarshalSource </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtp__bdaddr.html">tp_bdaddr</a> *&#160;</td>
          <td class="paramname"><em>tpaddr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the source containing marshal data for ACL link with given remote device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tpaddr</td><td>Bluetooth address of remote device. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if no ACL connection exists with remote device </dd></dl>

</div>
</div>
<a class="anchor" id="ga5fe2db4250a64b52d7515aa33935b8a1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="source___8h.html#afbe187e42995c6b6af38624c70e7a3e2">Source</a> StreamAudioSyncSource </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="operator___8h.html#a018b8532a63fb6b78535ce44aa4922e4">Operator</a>&#160;</td>
          <td class="paramname"><em>opid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the source to get audio synchronisation packets. </p>
<p>The source contains audio synchronisation data with 6 byte header followed by 6 byte packets which contain timing information received from RTP decode operator. Header format: Version - 2 bytes SPADJ - 4 bytes Packet format: RTP packet sequence no - 2 bytes TTP Timestamp Most significant word - 2 bytes TTP Timestamp Least significant word - 2 bytes NOTE: The Interval and MTU must be configured before expecting data in source. The MTU must be multiple of audio packet size (i.e. 6 bytes). See #stream_config_key documentation for more details. Audio synchronisation data can be written into sink stream to adjust TTP and SPADJ of RTP decode operator. The sink mode must be set prior to writing data into sink buffer. See #stream_config_key documentation for more details. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">opid</td><td>RTP decode operator ID </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gacff2a1418b144b0773c65ead569120f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VmSendMdmPrim </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>prim</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a BlueStack Mirroring Manager(MDM) primitive. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prim</td><td>A pointer to the primitive to send. The memory must have been dynamically allocated. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
