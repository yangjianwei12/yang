<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Public API: Watchdog</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Public API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__watchdog__service.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Watchdog<div class="ingroups"><a class="el" href="group__services.html">Services</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Software Watchdog Timers.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:watchdog_8c"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="watchdog_8c.html">watchdog.c</a></td></tr>
<tr class="memdesc:watchdog_8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Software Watchdog Timers. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gac1b108ca67ab797ea9cef48d3019aa05"><td class="memItemLeft" align="right" valign="top">typedef uint8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__watchdog__service.html#gac1b108ca67ab797ea9cef48d3019aa05">watchdog_state_t</a></td></tr>
<tr class="separator:gac1b108ca67ab797ea9cef48d3019aa05"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga495a07bd1939981855363ee899e619ed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__watchdog__service.html#ga495a07bd1939981855363ee899e619ed">Watchdog_Init</a> (void)</td></tr>
<tr class="memdesc:ga495a07bd1939981855363ee899e619ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise the software watchdog component.  <a href="group__watchdog__service.html#ga495a07bd1939981855363ee899e619ed">More...</a><br /></td></tr>
<tr class="separator:ga495a07bd1939981855363ee899e619ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6d5e1c65b8f759d1a2b7f2e21da9e9b8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__watchdog__service.html#ga6d5e1c65b8f759d1a2b7f2e21da9e9b8">Watchdog_Kick</a> (<a class="el" href="group__watchdog__service.html#gac1b108ca67ab797ea9cef48d3019aa05">watchdog_state_t</a> *state, uint8 time_s)</td></tr>
<tr class="memdesc:ga6d5e1c65b8f759d1a2b7f2e21da9e9b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">(Re)start a software watchdog timer  <a href="group__watchdog__service.html#ga6d5e1c65b8f759d1a2b7f2e21da9e9b8">More...</a><br /></td></tr>
<tr class="separator:ga6d5e1c65b8f759d1a2b7f2e21da9e9b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga70c8247c30bd794425015ebda2fe142d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__watchdog__service.html#ga70c8247c30bd794425015ebda2fe142d">Watchdog_Stop</a> (<a class="el" href="group__watchdog__service.html#gac1b108ca67ab797ea9cef48d3019aa05">watchdog_state_t</a> *state)</td></tr>
<tr class="memdesc:ga70c8247c30bd794425015ebda2fe142d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop a software watchdog timer.  <a href="group__watchdog__service.html#ga70c8247c30bd794425015ebda2fe142d">More...</a><br /></td></tr>
<tr class="separator:ga70c8247c30bd794425015ebda2fe142d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga1b74c0bcee4aff35c187f5115b89783e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__watchdog__service.html#gac1b108ca67ab797ea9cef48d3019aa05">watchdog_state_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__watchdog__service.html#ga1b74c0bcee4aff35c187f5115b89783e">watchdog_states_begin</a> []</td></tr>
<tr class="separator:ga1b74c0bcee4aff35c187f5115b89783e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Software Watchdog Timers. </p>
<p>The service provides a set of software watchdogs timers. These timers can be used by various components to guard against lockups and timeouts.</p>
<p>Each component that requires a watchdog should create a new watchdog using the CREATE_WATCHDOG() macro, for example:</p>
<p>CREATE_WATCHDOG(test_wd):</p>
<p>All the watchdogs are stored in a seperate area of memory which is then checksummed to provide protection against this area of memory getting corrupted or overwritten.</p>
<p>To start a watchdog timer the <a class="el" href="group__watchdog__service.html#ga6d5e1c65b8f759d1a2b7f2e21da9e9b8" title="(Re)start a software watchdog timer">Watchdog_Kick(watchdog_state_t *state, uint8 time_s)</a> function is used where time_s is the time in seconds for when the watchdog timer will expire. When the timer expires the chip will panic and reboot. For example using the watchdog created above to start a 5 second timer:</p>
<p>Watchdog_Kick(&amp;test_wd, 5)</p>
<p>A watchdog timer can be stopped by calling <a class="el" href="group__watchdog__service.html#ga70c8247c30bd794425015ebda2fe142d" title="Stop a software watchdog timer.">Watchdog_Stop(watchdog_state_t *state)</a>, for example:</p>
<p>Watchdog_Stop(&amp;test_wd)</p>
<p>A watchdog timer can be re-started when it's either stoppped or still running, if it's running the timer will be extended from the current time.</p>
<p>Each watchdog only takes 1 byte of RAM. To keep RAM usage low the accuracy of the watchdog timer is around 1 second and is guaranteed to by at least as long as requested. For example a 5 second watchdog timer may actually be 6 seconds. </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gac1b108ca67ab797ea9cef48d3019aa05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac1b108ca67ab797ea9cef48d3019aa05">&#9670;&nbsp;</a></span>watchdog_state_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint8 <a class="el" href="group__watchdog__service.html#gac1b108ca67ab797ea9cef48d3019aa05">watchdog_state_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/services/watchdog/watchdog.h&gt;</code></p>
<p>Storage type for a watchdog </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga495a07bd1939981855363ee899e619ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga495a07bd1939981855363ee899e619ed">&#9670;&nbsp;</a></span>Watchdog_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Watchdog_Init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/services/watchdog/watchdog.h&gt;</code></p>

<p>Initialise the software watchdog component. </p>
<p>This function must be called before any other APIs in this component. </p>

</div>
</div>
<a id="ga6d5e1c65b8f759d1a2b7f2e21da9e9b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6d5e1c65b8f759d1a2b7f2e21da9e9b8">&#9670;&nbsp;</a></span>Watchdog_Kick()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Watchdog_Kick </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__watchdog__service.html#gac1b108ca67ab797ea9cef48d3019aa05">watchdog_state_t</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>time_s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/services/watchdog/watchdog.h&gt;</code></p>

<p>(Re)start a software watchdog timer </p>
<p>This function must be called before any other APIs in this component.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">state</td><td>Pointer to watchdog state. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">time_s</td><td>New expiry time in seconds. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga70c8247c30bd794425015ebda2fe142d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga70c8247c30bd794425015ebda2fe142d">&#9670;&nbsp;</a></span>Watchdog_Stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Watchdog_Stop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__watchdog__service.html#gac1b108ca67ab797ea9cef48d3019aa05">watchdog_state_t</a> *&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/services/watchdog/watchdog.h&gt;</code></p>

<p>Stop a software watchdog timer. </p>
<p>This function must be called before any other APIs in this component.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">state</td><td>Pointer to watchdog state. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ga1b74c0bcee4aff35c187f5115b89783e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1b74c0bcee4aff35c187f5115b89783e">&#9670;&nbsp;</a></span>watchdog_states_begin</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__watchdog__service.html#gac1b108ca67ab797ea9cef48d3019aa05">watchdog_state_t</a> watchdog_states_begin[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/services/watchdog/watchdog.h&gt;</code></p>
<p>Symbols generated by linker for beginning and end of watchdog RAM section </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
