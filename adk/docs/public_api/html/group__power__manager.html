<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Public API: Power Manager</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Public API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__power__manager.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Power Manager<div class="ingroups"><a class="el" href="group__domains.html">Domains</a> &raquo; <a class="el" href="group__power__domain.html">Power</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Header file for the Power Management.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:power__manager__action_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="power__manager__action_8h.html">power_manager_action.h</a></td></tr>
<tr class="memdesc:power__manager__action_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of 'go to sleep' and power off. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:power__manager__conditions_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="power__manager__conditions_8h.html">power_manager_conditions.h</a></td></tr>
<tr class="memdesc:power__manager__conditions_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Functions used to decide if system should go to sleep or power off. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:power__manager__flags_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="power__manager__flags_8h.html">power_manager_flags.h</a></td></tr>
<tr class="memdesc:power__manager__flags_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility functions to manage client flags. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:power__manager__monitors_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="power__manager__monitors_8h.html">power_manager_monitors.h</a></td></tr>
<tr class="memdesc:power__manager__monitors_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Monitoring of charger status, battery voltage and temperature. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:power__manager__performance_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="power__manager__performance_8h.html">power_manager_performance.h</a></td></tr>
<tr class="memdesc:power__manager__performance_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performance settings. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:power__manager__sm_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="power__manager__sm_8h.html">power_manager_sm.h</a></td></tr>
<tr class="memdesc:power__manager__sm_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Power manager state machine. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:power__manager__ui_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="power__manager__ui_8h.html">power_manager_ui.h</a></td></tr>
<tr class="memdesc:power__manager__ui_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Power manager integration with UI. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpower_task_data.html">powerTaskData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Power control module state.  <a href="structpower_task_data.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga57d2dc5e64431257443a03663be817a2"><td class="memItemLeft" align="right" valign="top"><a id="ga57d2dc5e64431257443a03663be817a2"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__power__manager.html#ga57d2dc5e64431257443a03663be817a2">power_provider_context_t</a> </td></tr>
<tr class="memdesc:ga57d2dc5e64431257443a03663be817a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Power ui provider contexts. <br /></td></tr>
<tr class="separator:ga57d2dc5e64431257443a03663be817a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1eba9e18bfeade6277b9967455475ba3"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__power__manager.html#ga1eba9e18bfeade6277b9967455475ba3">powerClientMessages</a> { <br />
&#160;&#160;<a class="el" href="group__power__manager.html#gga1eba9e18bfeade6277b9967455475ba3a94d7f4420b614acdd59a6321db4a256d">APP_POWER_INIT_CFM</a> = POWER_APP_MESSAGE_BASE, 
<a class="el" href="group__power__manager.html#gga1eba9e18bfeade6277b9967455475ba3ab94f5b4d96399c1ca092170c5be05e9f">APP_POWER_SLEEP_PREPARE_IND</a>, 
<a class="el" href="group__power__manager.html#gga1eba9e18bfeade6277b9967455475ba3a44aa204d7da5c0f616813cacf12b3f83">APP_POWER_SLEEP_CANCELLED_IND</a>, 
<a class="el" href="group__power__manager.html#gga1eba9e18bfeade6277b9967455475ba3ad36b90050f91049943a7daa5ec293514">APP_POWER_SHUTDOWN_PREPARE_IND</a>, 
<br />
&#160;&#160;<a class="el" href="group__power__manager.html#gga1eba9e18bfeade6277b9967455475ba3aed8975eb5a7807e3fa4353d01be6a78a">APP_POWER_SHUTDOWN_CANCELLED_IND</a>, 
<a class="el" href="group__power__manager.html#gga1eba9e18bfeade6277b9967455475ba3a96d7f5efa52f2ef85f65ec540233b69d">POWER_ON</a>, 
<a class="el" href="group__power__manager.html#gga1eba9e18bfeade6277b9967455475ba3a4a0682c6762857d83fd5d8cb36f9c94e">POWER_OFF</a>, 
<a class="el" href="group__power__manager.html#gga1eba9e18bfeade6277b9967455475ba3af38e62c90d9e6f32be7cc492eb2c0bea">POWER_APP_MESSAGE_END</a>
<br />
 }</td></tr>
<tr class="separator:ga1eba9e18bfeade6277b9967455475ba3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa528a448015ed519b8a7df5da10bd68a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__power__manager.html#gaa528a448015ed519b8a7df5da10bd68a">appPowerClientAllowSleep</a> (Task <a class="el" href="device__test__service__commands__sensors_8c.html#aba8d7e5c1906844fdb6e47953d3518fc">task</a>)</td></tr>
<tr class="memdesc:gaa528a448015ed519b8a7df5da10bd68a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inform power that sleep is allowed.  <a href="group__power__manager.html#gaa528a448015ed519b8a7df5da10bd68a">More...</a><br /></td></tr>
<tr class="separator:gaa528a448015ed519b8a7df5da10bd68a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0964abed417b64a6c721bf226d8b5010"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__power__manager.html#ga0964abed417b64a6c721bf226d8b5010">appPowerClientProhibitSleep</a> (Task <a class="el" href="device__test__service__commands__sensors_8c.html#aba8d7e5c1906844fdb6e47953d3518fc">task</a>)</td></tr>
<tr class="memdesc:ga0964abed417b64a6c721bf226d8b5010"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inform power that sleep is prohibited.  <a href="group__power__manager.html#ga0964abed417b64a6c721bf226d8b5010">More...</a><br /></td></tr>
<tr class="separator:ga0964abed417b64a6c721bf226d8b5010"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga736ad928ca6a6b66a2399b65fa08de7e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__power__manager.html#ga736ad928ca6a6b66a2399b65fa08de7e">appPowerClientRegister</a> (Task <a class="el" href="device__test__service__commands__sensors_8c.html#aba8d7e5c1906844fdb6e47953d3518fc">task</a>)</td></tr>
<tr class="memdesc:ga736ad928ca6a6b66a2399b65fa08de7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register to receive primary power notifications.  <a href="group__power__manager.html#ga736ad928ca6a6b66a2399b65fa08de7e">More...</a><br /></td></tr>
<tr class="separator:ga736ad928ca6a6b66a2399b65fa08de7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga526efba4e5fae20ac52f874698a91a31"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__power__manager.html#ga526efba4e5fae20ac52f874698a91a31">appPowerClientUnregister</a> (Task <a class="el" href="device__test__service__commands__sensors_8c.html#aba8d7e5c1906844fdb6e47953d3518fc">task</a>)</td></tr>
<tr class="memdesc:ga526efba4e5fae20ac52f874698a91a31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister a task from receiving power notifications.  <a href="group__power__manager.html#ga526efba4e5fae20ac52f874698a91a31">More...</a><br /></td></tr>
<tr class="separator:ga526efba4e5fae20ac52f874698a91a31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6410c60caf3225851e08bdb75f4d140c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__power__manager.html#ga6410c60caf3225851e08bdb75f4d140c">appPowerInit</a> (Task init_task)</td></tr>
<tr class="memdesc:ga6410c60caf3225851e08bdb75f4d140c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise power control task.  <a href="group__power__manager.html#ga6410c60caf3225851e08bdb75f4d140c">More...</a><br /></td></tr>
<tr class="separator:ga6410c60caf3225851e08bdb75f4d140c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf053634a102c39880985c1d69f569cfd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__power__manager.html#gaf053634a102c39880985c1d69f569cfd">appPowerInitComplete</a> (void)</td></tr>
<tr class="memdesc:gaf053634a102c39880985c1d69f569cfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal to power manager that application initialisation is completed.  <a href="group__power__manager.html#gaf053634a102c39880985c1d69f569cfd">More...</a><br /></td></tr>
<tr class="separator:gaf053634a102c39880985c1d69f569cfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga997d17eaf75e958ab19b7977f7271a5a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__power__manager.html#ga997d17eaf75e958ab19b7977f7271a5a">appPowerIsShuttingDown</a> (void)</td></tr>
<tr class="memdesc:ga997d17eaf75e958ab19b7977f7271a5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query if power manager is shutting down.  <a href="group__power__manager.html#ga997d17eaf75e958ab19b7977f7271a5a">More...</a><br /></td></tr>
<tr class="separator:ga997d17eaf75e958ab19b7977f7271a5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadc818cb083dad49421a44e8e24ceb079"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__power__manager.html#gadc818cb083dad49421a44e8e24ceb079">appPowerOffRequest</a> (void)</td></tr>
<tr class="memdesc:gadc818cb083dad49421a44e8e24ceb079"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request to power off device.  <a href="group__power__manager.html#gadc818cb083dad49421a44e8e24ceb079">More...</a><br /></td></tr>
<tr class="separator:gadc818cb083dad49421a44e8e24ceb079"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga44f7cc9b82fe6b741fdf3e835b4988d9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__power__manager.html#ga44f7cc9b82fe6b741fdf3e835b4988d9">appPowerOn</a> (void)</td></tr>
<tr class="memdesc:ga44f7cc9b82fe6b741fdf3e835b4988d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This will send a message (POWER_ON) to all registered clients to indicate that the device is powered on.  <a href="group__power__manager.html#ga44f7cc9b82fe6b741fdf3e835b4988d9">More...</a><br /></td></tr>
<tr class="separator:ga44f7cc9b82fe6b741fdf3e835b4988d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8a987a58629da19f8d44ff26acf46190"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__power__manager.html#ga8a987a58629da19f8d44ff26acf46190">appPowerPerformanceProfileRelinquish</a> (void)</td></tr>
<tr class="memdesc:ga8a987a58629da19f8d44ff26acf46190"><td class="mdescLeft">&#160;</td><td class="mdescRight">Relinquish request for the VM to run in VM_PERFORMANCE mode.  <a href="group__power__manager.html#ga8a987a58629da19f8d44ff26acf46190">More...</a><br /></td></tr>
<tr class="separator:ga8a987a58629da19f8d44ff26acf46190"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga45a7b4e10ab5c37f1fb7a0e685a2a6bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__power__manager.html#ga45a7b4e10ab5c37f1fb7a0e685a2a6bc">appPowerPerformanceProfileRequest</a> (void)</td></tr>
<tr class="memdesc:ga45a7b4e10ab5c37f1fb7a0e685a2a6bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request the VM runs in VM_PERFORMANCE mode.  <a href="group__power__manager.html#ga45a7b4e10ab5c37f1fb7a0e685a2a6bc">More...</a><br /></td></tr>
<tr class="separator:ga45a7b4e10ab5c37f1fb7a0e685a2a6bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6758085281988a3a8c2572aa566f98cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__power__manager.html#ga6758085281988a3a8c2572aa566f98cb">appPowerPerformanceProfileRequestDuration</a> (Delay duration)</td></tr>
<tr class="memdesc:ga6758085281988a3a8c2572aa566f98cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request the VM runs in VM_PERFORMANCE mode for a fixed period.  <a href="group__power__manager.html#ga6758085281988a3a8c2572aa566f98cb">More...</a><br /></td></tr>
<tr class="separator:ga6758085281988a3a8c2572aa566f98cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf91f4e6cb830d9d3609ac1ac0da287ef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__power__manager.html#gaf91f4e6cb830d9d3609ac1ac0da287ef">appPowerShutdownPrepareResponse</a> (Task <a class="el" href="device__test__service__commands__sensors_8c.html#aba8d7e5c1906844fdb6e47953d3518fc">task</a>)</td></tr>
<tr class="memdesc:gaf91f4e6cb830d9d3609ac1ac0da287ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">The client's response to #POWER_SHUTDOWN_PREPARE_IND. This informs power that the client is prepared to shutdown.  <a href="group__power__manager.html#gaf91f4e6cb830d9d3609ac1ac0da287ef">More...</a><br /></td></tr>
<tr class="separator:gaf91f4e6cb830d9d3609ac1ac0da287ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac99fbd6fdf1227d34aaa870055eeaafc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__power__manager.html#gac99fbd6fdf1227d34aaa870055eeaafc">appPowerSleepPrepareResponse</a> (Task <a class="el" href="device__test__service__commands__sensors_8c.html#aba8d7e5c1906844fdb6e47953d3518fc">task</a>)</td></tr>
<tr class="memdesc:gac99fbd6fdf1227d34aaa870055eeaafc"><td class="mdescLeft">&#160;</td><td class="mdescRight">The client's response to #POWER_SLEEP_PREPARE_IND. This informs power that the client is prepared to sleep.  <a href="group__power__manager.html#gac99fbd6fdf1227d34aaa870055eeaafc">More...</a><br /></td></tr>
<tr class="separator:gac99fbd6fdf1227d34aaa870055eeaafc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga40053c2f1410eead107e3897df31c1ac"><td class="memItemLeft" align="right" valign="top">Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__power__manager.html#ga40053c2f1410eead107e3897df31c1ac">PowerGetTask</a> (void)</td></tr>
<tr class="memdesc:ga40053c2f1410eead107e3897df31c1ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns power task pointer to requesting component  <a href="group__power__manager.html#ga40053c2f1410eead107e3897df31c1ac">More...</a><br /></td></tr>
<tr class="separator:ga40053c2f1410eead107e3897df31c1ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Header file for the Power Management. </p>
<p>The power manager monitors charger status, battery level and temperature. It also maintains two lists of clients. One list is for clients interested in going to sleep, the other is clients interested in powering down. When clients register they will be notified before the system go to sleep or power off. Clients must respond, otherwise power manager will be waiting forever.</p>
<p>Power off can be requested or being triggered by critical battery voltage level or temperature. Sleep is triggered when all registered clients will allow sleeping.</p>
<p>Both above transitions are conditional to charger being in known state and not charging. </p>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga1eba9e18bfeade6277b9967455475ba3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1eba9e18bfeade6277b9967455475ba3">&#9670;&nbsp;</a></span>powerClientMessages</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__power__manager.html#ga1eba9e18bfeade6277b9967455475ba3">powerClientMessages</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/power/power_manager/power_manager.h&gt;</code></p>
<p>Power client messages, delivered to <a class="el" href="group__power__manager.html#ga736ad928ca6a6b66a2399b65fa08de7e" title="Register to receive primary power notifications.">appPowerClientRegister()</a> clients and to clients registered via the message broker. </p><dl class="section note"><dt>Note</dt><dd>Clients registering via the message broker will automatically be set to allow sleep - equivalent to the client calling the function appPowerClientAllowSleep. </dd>
<dd>
If registering via the message broker, the client <em>must</em> still obey the requirements of the interface, that is handling and reponding to APP_POWER_SLEEP_PREPARE_IND, APP_POWER_SHUTDOWN_PREPARE_IND. </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga1eba9e18bfeade6277b9967455475ba3a94d7f4420b614acdd59a6321db4a256d"></a>APP_POWER_INIT_CFM&#160;</td><td class="fielddoc"><p>Message indicating power module initialisation is complete. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1eba9e18bfeade6277b9967455475ba3ab94f5b4d96399c1ca092170c5be05e9f"></a>APP_POWER_SLEEP_PREPARE_IND&#160;</td><td class="fielddoc"><p>Message indicating power module clients should prepare to sleep. In response, clients should call <a class="el" href="group__power__manager.html#gac99fbd6fdf1227d34aaa870055eeaafc" title="The client&#39;s response to #POWER_SLEEP_PREPARE_IND. This informs power that the client is prepared to ...">appPowerSleepPrepareResponse()</a> when prepared to sleep. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1eba9e18bfeade6277b9967455475ba3a44aa204d7da5c0f616813cacf12b3f83"></a>APP_POWER_SLEEP_CANCELLED_IND&#160;</td><td class="fielddoc"><p>Message indicating that an external event caused power to cancel sleep. Will be sent to clients after all clients have responded to #POWER_SLEEP_PREPARE_IND. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1eba9e18bfeade6277b9967455475ba3ad36b90050f91049943a7daa5ec293514"></a>APP_POWER_SHUTDOWN_PREPARE_IND&#160;</td><td class="fielddoc"><p>Message indicating power module clients shoud prepare to shutdown. In response, clients should all <a class="el" href="group__power__manager.html#gaf91f4e6cb830d9d3609ac1ac0da287ef" title="The client&#39;s response to #POWER_SHUTDOWN_PREPARE_IND. This informs power that the client is prepared ...">appPowerShutdownPrepareResponse()</a> when prepared to shutdown. No response required. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1eba9e18bfeade6277b9967455475ba3aed8975eb5a7807e3fa4353d01be6a78a"></a>APP_POWER_SHUTDOWN_CANCELLED_IND&#160;</td><td class="fielddoc"><p>Message indicating that an external event caused power to cancel shutdown. Will be sent to clients after all clients have responded to #POWER_SHUTDOWN_PREPARE_IND. No response required. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1eba9e18bfeade6277b9967455475ba3a96d7f5efa52f2ef85f65ec540233b69d"></a>POWER_ON&#160;</td><td class="fielddoc"><p>Message indicating the application has powered on </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1eba9e18bfeade6277b9967455475ba3a4a0682c6762857d83fd5d8cb36f9c94e"></a>POWER_OFF&#160;</td><td class="fielddoc"><p>Message indicating the application is powering off </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1eba9e18bfeade6277b9967455475ba3af38e62c90d9e6f32be7cc492eb2c0bea"></a>POWER_APP_MESSAGE_END&#160;</td><td class="fielddoc"><p>This must be the final message </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaa528a448015ed519b8a7df5da10bd68a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa528a448015ed519b8a7df5da10bd68a">&#9670;&nbsp;</a></span>appPowerClientAllowSleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void appPowerClientAllowSleep </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/power/power_manager/power_manager.h&gt;</code></p>

<p>Inform power that sleep is allowed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The client's task, previously registered with <a class="el" href="group__power__manager.html#ga736ad928ca6a6b66a2399b65fa08de7e" title="Register to receive primary power notifications.">appPowerClientRegister</a>. If all power's clients allow sleep, power will sleep. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga0964abed417b64a6c721bf226d8b5010"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0964abed417b64a6c721bf226d8b5010">&#9670;&nbsp;</a></span>appPowerClientProhibitSleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void appPowerClientProhibitSleep </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/power/power_manager/power_manager.h&gt;</code></p>

<p>Inform power that sleep is prohibited. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The client's task, previously registered with <a class="el" href="group__power__manager.html#ga736ad928ca6a6b66a2399b65fa08de7e" title="Register to receive primary power notifications.">appPowerClientRegister</a>. If any of power's client prohibit sleep, power will not sleep. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga736ad928ca6a6b66a2399b65fa08de7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga736ad928ca6a6b66a2399b65fa08de7e">&#9670;&nbsp;</a></span>appPowerClientRegister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void appPowerClientRegister </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/power/power_manager/power_manager.h&gt;</code></p>

<p>Register to receive primary power notifications. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The client's task. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga526efba4e5fae20ac52f874698a91a31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga526efba4e5fae20ac52f874698a91a31">&#9670;&nbsp;</a></span>appPowerClientUnregister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void appPowerClientUnregister </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/power/power_manager/power_manager.h&gt;</code></p>

<p>Unregister a task from receiving power notifications. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The client task to unregister. Silently ignores unregister requests for a task not previously registered </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga6410c60caf3225851e08bdb75f4d140c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6410c60caf3225851e08bdb75f4d140c">&#9670;&nbsp;</a></span>appPowerInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool appPowerInit </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>init_task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/power/power_manager/power_manager.h&gt;</code></p>

<p>Initialise power control task. </p>
<p>Called at start up to initialise the data for power control. </p>

</div>
</div>
<a id="gaf053634a102c39880985c1d69f569cfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf053634a102c39880985c1d69f569cfd">&#9670;&nbsp;</a></span>appPowerInitComplete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void appPowerInitComplete </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/power/power_manager/power_manager.h&gt;</code></p>

<p>Signal to power manager that application initialisation is completed. </p>
<dl class="section note"><dt>Note</dt><dd>This must be called to enable sleep (dormant) functionality, and is expected to be called after all power manager clients have registered their task. </dd></dl>

</div>
</div>
<a id="ga997d17eaf75e958ab19b7977f7271a5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga997d17eaf75e958ab19b7977f7271a5a">&#9670;&nbsp;</a></span>appPowerIsShuttingDown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool appPowerIsShuttingDown </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/power/power_manager/power_manager.h&gt;</code></p>

<p>Query if power manager is shutting down. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if shutting down, else FALSE. </dd></dl>

</div>
</div>
<a id="gadc818cb083dad49421a44e8e24ceb079"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadc818cb083dad49421a44e8e24ceb079">&#9670;&nbsp;</a></span>appPowerOffRequest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool appPowerOffRequest </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/power/power_manager/power_manager.h&gt;</code></p>

<p>Request to power off device. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if the device will now attempt to power off or if the device is currently powering off. FALSE if the device cannot currently power off (for instance, because the charger is attached, or because the device is currently entering sleep).</dd></dl>
<p>If the device can power off, it will inform its clients and wait for a response from each (e.g. to allow them to perform tasks related to shutting down). After all responses are received, the device will shut down.</p>
<p>It is possible, whilst waiting for the clients to respond, that the device state will change and it will be unable to shutdown (e.g. if a charger is attached). In this case after receiving all reponses, the client will send a #POWER_SHUTDOWN_CANCELLED_IND to clients informing them that shutdown was cancelled. </p>

</div>
</div>
<a id="ga44f7cc9b82fe6b741fdf3e835b4988d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga44f7cc9b82fe6b741fdf3e835b4988d9">&#9670;&nbsp;</a></span>appPowerOn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void appPowerOn </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/power/power_manager/power_manager.h&gt;</code></p>

<p>This will send a message (POWER_ON) to all registered clients to indicate that the device is powered on. </p>
<dl class="section note"><dt>Note</dt><dd>In case of earbud, if it is peer paired and not in the case, <a class="el" href="group__power__manager.html#ga44f7cc9b82fe6b741fdf3e835b4988d9" title="This will send a message (POWER_ON) to all registered clients to indicate that the device is powered ...">appPowerOn()</a> shall only be called after peer find role has started. </dd></dl>

</div>
</div>
<a id="ga8a987a58629da19f8d44ff26acf46190"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8a987a58629da19f8d44ff26acf46190">&#9670;&nbsp;</a></span>appPowerPerformanceProfileRelinquish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void appPowerPerformanceProfileRelinquish </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/power/power_manager/power_manager.h&gt;</code></p>

<p>Relinquish request for the VM to run in VM_PERFORMANCE mode. </p>
<dl class="section note"><dt>Note</dt><dd>The module counts the number of requests to run in VM_PERFORMANCE and only reverts to run in VM_BALANCED mode when no VM_PERFORMANCE requestors remain. </dd></dl>

</div>
</div>
<a id="ga45a7b4e10ab5c37f1fb7a0e685a2a6bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga45a7b4e10ab5c37f1fb7a0e685a2a6bc">&#9670;&nbsp;</a></span>appPowerPerformanceProfileRequest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void appPowerPerformanceProfileRequest </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/power/power_manager/power_manager.h&gt;</code></p>

<p>Request the VM runs in VM_PERFORMANCE mode. </p>
<dl class="section note"><dt>Note</dt><dd>The module counts the number of requests to run in VM_PERFORMANCE and only reverts to run in VM_BALANCED mode when no VM_PERFORMANCE requestors remain. </dd></dl>

</div>
</div>
<a id="ga6758085281988a3a8c2572aa566f98cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6758085281988a3a8c2572aa566f98cb">&#9670;&nbsp;</a></span>appPowerPerformanceProfileRequestDuration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void appPowerPerformanceProfileRequestDuration </td>
          <td>(</td>
          <td class="paramtype">Delay&#160;</td>
          <td class="paramname"><em>duration</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/power/power_manager/power_manager.h&gt;</code></p>

<p>Request the VM runs in VM_PERFORMANCE mode for a fixed period. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">duration</td><td>The duration to run in performance mode. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The module counts the number of requests to run in VM_PERFORMANCE and only reverts to run in VM_BALANCED mode when no VM_PERFORMANCE requestors remain. </dd></dl>

</div>
</div>
<a id="gaf91f4e6cb830d9d3609ac1ac0da287ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf91f4e6cb830d9d3609ac1ac0da287ef">&#9670;&nbsp;</a></span>appPowerShutdownPrepareResponse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void appPowerShutdownPrepareResponse </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/power/power_manager/power_manager.h&gt;</code></p>

<p>The client's response to #POWER_SHUTDOWN_PREPARE_IND. This informs power that the client is prepared to shutdown. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The client task. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gac99fbd6fdf1227d34aaa870055eeaafc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac99fbd6fdf1227d34aaa870055eeaafc">&#9670;&nbsp;</a></span>appPowerSleepPrepareResponse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void appPowerSleepPrepareResponse </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/power/power_manager/power_manager.h&gt;</code></p>

<p>The client's response to #POWER_SLEEP_PREPARE_IND. This informs power that the client is prepared to sleep. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The client task. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga40053c2f1410eead107e3897df31c1ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga40053c2f1410eead107e3897df31c1ac">&#9670;&nbsp;</a></span>PowerGetTask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Task PowerGetTask </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/power/power_manager/power_manager.h&gt;</code></p>

<p>returns power task pointer to requesting component </p>
<dl class="section return"><dt>Returns</dt><dd>power task pointer. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
