<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Public API: Debug Secondary (LE)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Public API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__le__debug__secondary.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Debug Secondary (LE)<div class="ingroups"><a class="el" href="group__domains.html">Domains</a> &raquo; <a class="el" href="group__bt__domain.html">Bluetooth</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Bluetooth domain functionality to enable LE connection on secondary for additional debugging purpose that can be used by the application.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_l_e___d_e_b_u_g___s_e_c_o_n_d_a_r_y___u_p_d_a_t_e___i_r_k___c_f_m___t.html">LE_DEBUG_SECONDARY_UPDATE_IRK_CFM_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Confirmation of the result of IRK Update.  <a href="struct_l_e___d_e_b_u_g___s_e_c_o_n_d_a_r_y___u_p_d_a_t_e___i_r_k___c_f_m___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga56895579e2c0a02265e66d333ac3fa75"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__le__debug__secondary.html#ga56895579e2c0a02265e66d333ac3fa75">le_debug_secondary_msg_t</a> { <a class="el" href="group__le__debug__secondary.html#gga56895579e2c0a02265e66d333ac3fa75a9d1cbaa660cd7ceb2f18a960eb226177">LE_DEBUG_SECONDARY_UPDATE_IRK_CFM</a> = LE_DEBUG_SECONDARY_MESSAGE_BASE, 
<a class="el" href="group__le__debug__secondary.html#gga56895579e2c0a02265e66d333ac3fa75a37ea59c2f7be7be88e8e37bd5c9892a0">LE_DEBUG_SECONDARY_MESSAGE_END</a>
 }</td></tr>
<tr class="memdesc:ga56895579e2c0a02265e66d333ac3fa75"><td class="mdescLeft">&#160;</td><td class="mdescRight">notifications sent by le_debug_secondary to other modules.  <a href="group__le__debug__secondary.html#ga56895579e2c0a02265e66d333ac3fa75">More...</a><br /></td></tr>
<tr class="separator:ga56895579e2c0a02265e66d333ac3fa75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1f18837d653c7b3bc07adb282285c30"><td class="memItemLeft" align="right" valign="top"><a id="gad1f18837d653c7b3bc07adb282285c30"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__le__debug__secondary.html#gad1f18837d653c7b3bc07adb282285c30">le_debug_update_irk_status_t</a> </td></tr>
<tr class="memdesc:gad1f18837d653c7b3bc07adb282285c30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Status codes used by le_debug_secondary. <br /></td></tr>
<tr class="separator:gad1f18837d653c7b3bc07adb282285c30"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gae3448f2a49a93e774a8fea3e537e56af"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__le__debug__secondary.html#gae3448f2a49a93e774a8fea3e537e56af">LeDebugSecondary_IsSecondaryIRKInUse</a> (void)</td></tr>
<tr class="memdesc:gae3448f2a49a93e774a8fea3e537e56af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if Secondary IRK is in use.  <a href="group__le__debug__secondary.html#gae3448f2a49a93e774a8fea3e537e56af">More...</a><br /></td></tr>
<tr class="separator:gae3448f2a49a93e774a8fea3e537e56af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga29154123ca3c5139e01f3f2972e5ae89"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__le__debug__secondary.html#ga29154123ca3c5139e01f3f2972e5ae89">LeDebugSecondary_UpdateLocalIRK</a> (bool for_secondary_role, Task client)</td></tr>
<tr class="memdesc:ga29154123ca3c5139e01f3f2972e5ae89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update Identity Resolving Key (IRK) based on the role.  <a href="group__le__debug__secondary.html#ga29154123ca3c5139e01f3f2972e5ae89">More...</a><br /></td></tr>
<tr class="separator:ga29154123ca3c5139e01f3f2972e5ae89"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Bluetooth domain functionality to enable LE connection on secondary for additional debugging purpose that can be used by the application. </p>
<p>The Debug Secondary module provides application with ability to modify the IRK(Identity Resolving Key) on the secondary earbud.</p>
<p>This modification is required, For any GATT central device to differentiate between primary/secondary earbud and to establish connection with secondary earbud.</p>
<p>The application using this module shall implement functionality to</p><ul>
<li>Start/Stop Advertisements after modifying IRK on secondary.</li>
<li>Accept pairing and connection on secondary earbud from a Gatt Central Debug Device.</li>
<li>Stop Advertisements and disconnect Gatt Central Debug Device, Switch the local IRK back to primary IRK before starting the Handover on secondary earbud.</li>
<li>restart advertisements on secondary earbud when Handover is vetoed.</li>
</ul>
<p>Responsibilities:</p><ul>
<li>This module is responsible for creating a new IRK based on Encryption Root key and Identity Root key.</li>
<li>Notify the status of IRK Update procedure to application.</li>
</ul>
<p><b>Disclaimer:</b> </p><ul>
<li>Handover shall not be attempted whenever IRK has been modified on the secondary earbud.i.e. Handover shall not be attempted when there is an active debug BLE link with secondary earbud or secondary earbud is advertising with a modified IRK. Applications using this module to modify the local IRK, shall always switch the IRK back to primary IRK before trying to perform handover.</li>
<li>It is important to note that this function <b>SHALL</b> be used exclusively for development purposes only and <b>SHALL</b> <b>NOT</b> be invoked in an end product. </li>
</ul>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga56895579e2c0a02265e66d333ac3fa75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga56895579e2c0a02265e66d333ac3fa75">&#9670;&nbsp;</a></span>le_debug_secondary_msg_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__le__debug__secondary.html#ga56895579e2c0a02265e66d333ac3fa75">le_debug_secondary_msg_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/bt/le_debug_secondary/le_debug_secondary.h&gt;</code></p>

<p>notifications sent by le_debug_secondary to other modules. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga56895579e2c0a02265e66d333ac3fa75a9d1cbaa660cd7ceb2f18a960eb226177"></a>LE_DEBUG_SECONDARY_UPDATE_IRK_CFM&#160;</td><td class="fielddoc"><p>Update IRK complete </p>
</td></tr>
<tr><td class="fieldname"><a id="gga56895579e2c0a02265e66d333ac3fa75a37ea59c2f7be7be88e8e37bd5c9892a0"></a>LE_DEBUG_SECONDARY_MESSAGE_END&#160;</td><td class="fielddoc"><p>This must be the final message </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gae3448f2a49a93e774a8fea3e537e56af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae3448f2a49a93e774a8fea3e537e56af">&#9670;&nbsp;</a></span>LeDebugSecondary_IsSecondaryIRKInUse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool LeDebugSecondary_IsSecondaryIRKInUse </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/bt/le_debug_secondary/le_debug_secondary.h&gt;</code></p>

<p>Test if Secondary IRK is in use. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if different IRK is in use for secondary purpose, FALSE if default primary IRK is in use. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This functionality shall be used only for development purpose and shall NOT be invoked on an end product. </dd></dl>

</div>
</div>
<a id="ga29154123ca3c5139e01f3f2972e5ae89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga29154123ca3c5139e01f3f2972e5ae89">&#9670;&nbsp;</a></span>LeDebugSecondary_UpdateLocalIRK()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LeDebugSecondary_UpdateLocalIRK </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>for_secondary_role</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>client</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/bt/le_debug_secondary/le_debug_secondary.h&gt;</code></p>

<p>Update Identity Resolving Key (IRK) based on the role. </p>
<p>This function needs to be invoked in following cases</p><ul>
<li>When role is selected (Ex: After PEER find role).</li>
<li>When role is updated/swapped (Ex: After Handover)</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">for_secondary_role</td><td>TRUE to use different IRK for secondary purpose. This needs to be set only if role is secondary. FALSE will restore to default primary IRK. </td></tr>
    <tr><td class="paramname">client</td><td>the CFM will be sent to when the request is completed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This functionality shall be used only for development purpose and shall NOT be invoked on an end product. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
