<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Public API: Link Policy</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Public API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__link__policy.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Link Policy<div class="ingroups"><a class="el" href="group__domains.html">Domains</a> &raquo; <a class="el" href="group__bt__domain.html">Bluetooth</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Header file for the Link policy manager. This module controls the settings for classic Bluetooth links, selecting the link parameters based on the current activity.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:link__policy_8c"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="link__policy_8c.html">link_policy.c</a></td></tr>
<tr class="memdesc:link__policy_8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Link policy manager general functionality and initialisation. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:link__policy__handset__mode_8c"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="link__policy__handset__mode_8c.html">link_policy_handset_mode.c</a></td></tr>
<tr class="memdesc:link__policy__handset__mode_8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Link policy manager control of link mode with the handset. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:link__policy__handset__role_8c"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="link__policy__handset__role_8c.html">link_policy_handset_role.c</a></td></tr>
<tr class="memdesc:link__policy__handset__role_8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Link policy control of handset role. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_l_i_n_k___p_o_l_i_c_y___d_i_s_c_o_v_e_r___r_o_l_e___t.html">LINK_POLICY_DISCOVER_ROLE_T</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlink__policy__parameter__callbacks__t.html">link_policy_parameter_callbacks_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback functions that can be used to adjust parameters requested for connections.  <a href="structlink__policy__parameter__callbacks__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlp_per_connection_state.html">lpPerConnectionState</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Link policy state per ACL connection, stored for us by the connection manager.  <a href="structlp_per_connection_state.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gadd6d10448a204b8ea75f4e82ae5b49c3"><td class="memItemLeft" align="right" valign="top"><a id="gadd6d10448a204b8ea75f4e82ae5b49c3"></a>
typedef enum <a class="el" href="group__link__policy.html#ga71e683e07863bf499c4e5d4b5954c81e">lp_power_table_index</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__link__policy.html#gadd6d10448a204b8ea75f4e82ae5b49c3">lpPowerTableIndex</a></td></tr>
<tr class="memdesc:gadd6d10448a204b8ea75f4e82ae5b49c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Power table indexes. <br /></td></tr>
<tr class="separator:gadd6d10448a204b8ea75f4e82ae5b49c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gaa7c336b9f6cd8005ba14a58ef6746e7c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__link__policy.html#gaa7c336b9f6cd8005ba14a58ef6746e7c">link_policy_internal_message_t</a> { <a class="el" href="group__link__policy.html#ggaa7c336b9f6cd8005ba14a58ef6746e7ca12652ab15701bc4faa805f686253d300">LINK_POLICY_DISCOVER_ROLE</a>, 
<a class="el" href="group__link__policy.html#ggaa7c336b9f6cd8005ba14a58ef6746e7cabe432326e44aefc643a58c2e0febddcb">LINK_POLICY_SCHEDULED_UPDATE</a>, 
<a class="el" href="group__link__policy.html#ggaa7c336b9f6cd8005ba14a58ef6746e7ca6040bcb248c2bdc144ead10fdfcc46d9">LINK_POLICY_A2DP_TERMINATED_DELAY_EXPIRED</a>, 
<a class="el" href="group__link__policy.html#ggaa7c336b9f6cd8005ba14a58ef6746e7ca2a5f12da97f9cf03ecc77ceee7230b9b">LINK_POLICY_INTERNAL_MESSAGE_END</a>
 }</td></tr>
<tr class="separator:gaa7c336b9f6cd8005ba14a58ef6746e7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga71e683e07863bf499c4e5d4b5954c81e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__link__policy.html#ga71e683e07863bf499c4e5d4b5954c81e">lp_power_table_index</a> { <br />
&#160;&#160;<a class="el" href="group__link__policy.html#gga71e683e07863bf499c4e5d4b5954c81ea3f65b3be1498bbd448978c10ddd3c10b">POWERTABLE_IDLE</a>, 
<a class="el" href="group__link__policy.html#gga71e683e07863bf499c4e5d4b5954c81eae53a440c9d1829280fd70de9830ebbf0">POWERTABLE_MULTIPOINT_IDLE</a>, 
<a class="el" href="group__link__policy.html#gga71e683e07863bf499c4e5d4b5954c81ea1cc1cdabdef431424b06f6f0823f86e7">POWERTABLE_IDLE_WITH_BROADCAST</a>, 
<a class="el" href="group__link__policy.html#gga71e683e07863bf499c4e5d4b5954c81ea800a44ccacb7d8a16ab82b8a79b40521">POWERTABLE_VA_ACTIVE</a>, 
<br />
&#160;&#160;<a class="el" href="group__link__policy.html#gga71e683e07863bf499c4e5d4b5954c81ea6cff40860b89f3b68d524d35f18b814c">POWERTABLE_DFU</a>, 
<a class="el" href="group__link__policy.html#gga71e683e07863bf499c4e5d4b5954c81ea019b50df6cbb1a97bae8118a244c8530">POWERTABLE_A2DP_STREAMING</a>, 
<a class="el" href="group__link__policy.html#gga71e683e07863bf499c4e5d4b5954c81ea97f4a88cdfdb0927fdb64b51c558b979">POWERTABLE_SCO_ACTIVE</a>, 
<a class="el" href="group__link__policy.html#gga71e683e07863bf499c4e5d4b5954c81eabffc81e4c23363e81402cf37c5144431">POWERTABLE_PROFILES_CONNECTING_OR_DISCONNECTING</a>, 
<br />
&#160;&#160;<a class="el" href="group__link__policy.html#gga71e683e07863bf499c4e5d4b5954c81eaa704001607fd43846a6fa60e1b785243">POWERTABLE_UNASSIGNED</a>
<br />
 }</td></tr>
<tr class="memdesc:ga71e683e07863bf499c4e5d4b5954c81e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Power table indexes.  <a href="group__link__policy.html#ga71e683e07863bf499c4e5d4b5954c81e">More...</a><br /></td></tr>
<tr class="separator:ga71e683e07863bf499c4e5d4b5954c81e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga66059f889f7a3eb6df6de627648018e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__link__policy.html#ga66059f889f7a3eb6df6de627648018e1">appLinkPolicyForceUpdatePowerTable</a> (const bdaddr *bd_addr)</td></tr>
<tr class="memdesc:ga66059f889f7a3eb6df6de627648018e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Force update the link policy of connected handsets based on the system state.  <a href="group__link__policy.html#ga66059f889f7a3eb6df6de627648018e1">More...</a><br /></td></tr>
<tr class="separator:ga66059f889f7a3eb6df6de627648018e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga61d1db8e08d14fbbb648396618dff091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__link__policy.html#ga61d1db8e08d14fbbb648396618dff091">appLinkPolicyHandleA2dpTerminatedDelayExpired</a> (void)</td></tr>
<tr class="memdesc:ga61d1db8e08d14fbbb648396618dff091"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle A2DP Termination Timer expiry.  <a href="group__link__policy.html#ga61d1db8e08d14fbbb648396618dff091">More...</a><br /></td></tr>
<tr class="separator:ga61d1db8e08d14fbbb648396618dff091"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga29010cfa0ce775ff481a5a1ed4cf8b03"><td class="memItemLeft" align="right" valign="top"><a id="ga29010cfa0ce775ff481a5a1ed4cf8b03"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__link__policy.html#ga29010cfa0ce775ff481a5a1ed4cf8b03">appLinkPolicyHandleAddressSwap</a> (void)</td></tr>
<tr class="memdesc:ga29010cfa0ce775ff481a5a1ed4cf8b03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make changes to link policy following an address swap. <br /></td></tr>
<tr class="separator:ga29010cfa0ce775ff481a5a1ed4cf8b03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4dacc145d29cd4d8b4750676803ee6db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__link__policy.html#ga4dacc145d29cd4d8b4750676803ee6db">appLinkPolicyHandleClDmAclOpenedIndication</a> (const bdaddr *bd_addr, bool is_ble, bool is_local)</td></tr>
<tr class="memdesc:ga4dacc145d29cd4d8b4750676803ee6db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Link policy handles the opening of an ACL by discovering the link role. If the local device is central, a role switch will be requested to become peripheral.  <a href="group__link__policy.html#ga4dacc145d29cd4d8b4750676803ee6db">More...</a><br /></td></tr>
<tr class="separator:ga4dacc145d29cd4d8b4750676803ee6db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad428959edb85d8c704a38711d4ce7a0c"><td class="memItemLeft" align="right" valign="top"><a id="gad428959edb85d8c704a38711d4ce7a0c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__link__policy.html#gad428959edb85d8c704a38711d4ce7a0c">appLinkPolicyHandleCMMessage</a> (Task <a class="el" href="device__test__service__commands__sensors_8c.html#aba8d7e5c1906844fdb6e47953d3518fc">task</a>, MessageId id, Message message)</td></tr>
<tr class="memdesc:gad428959edb85d8c704a38711d4ce7a0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handler for link policy messages. <br /></td></tr>
<tr class="separator:gad428959edb85d8c704a38711d4ce7a0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabfc5c3e6c500c65d012937f8d9260432"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__link__policy.html#gabfc5c3e6c500c65d012937f8d9260432">appLinkPolicyHandleConnectionLibraryMessages</a> (MessageId id, Message message, bool already_handled)</td></tr>
<tr class="separator:gabfc5c3e6c500c65d012937f8d9260432"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9de1811cdb4308fe25295a7dd93a234b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__link__policy.html#ga9de1811cdb4308fe25295a7dd93a234b">appLinkPolicyHandleDiscoverRole</a> (const <a class="el" href="struct_l_i_n_k___p_o_l_i_c_y___d_i_s_c_o_v_e_r___r_o_l_e___t.html">LINK_POLICY_DISCOVER_ROLE_T</a> *msg)</td></tr>
<tr class="memdesc:ga9de1811cdb4308fe25295a7dd93a234b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Discover role again if it has failed in previous attempt.  <a href="group__link__policy.html#ga9de1811cdb4308fe25295a7dd93a234b">More...</a><br /></td></tr>
<tr class="separator:ga9de1811cdb4308fe25295a7dd93a234b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga53630b8fedcb985e61dcbe76b77e95c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__link__policy.html#ga53630b8fedcb985e61dcbe76b77e95c3">appLinkPolicyHandoverForceUpdateHandsetLinkPolicy</a> (const bdaddr *bd_addr)</td></tr>
<tr class="memdesc:ga53630b8fedcb985e61dcbe76b77e95c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Force update the handset link policy on the new primary after handover.  <a href="group__link__policy.html#ga53630b8fedcb985e61dcbe76b77e95c3">More...</a><br /></td></tr>
<tr class="separator:ga53630b8fedcb985e61dcbe76b77e95c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae19d227debf990653dfc6126e64b1b4b"><td class="memItemLeft" align="right" valign="top"><a id="gae19d227debf990653dfc6126e64b1b4b"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__link__policy.html#gae19d227debf990653dfc6126e64b1b4b">appLinkPolicyInit</a> (Task init_task)</td></tr>
<tr class="memdesc:gae19d227debf990653dfc6126e64b1b4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise link policy manager. <br /></td></tr>
<tr class="separator:gae19d227debf990653dfc6126e64b1b4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3da4d01d0e4a61c34d7bf8b477f79c9e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__link__policy.html#ga3da4d01d0e4a61c34d7bf8b477f79c9e">appLinkPolicyUpdatePowerTable</a> (const bdaddr *bd_addr)</td></tr>
<tr class="memdesc:ga3da4d01d0e4a61c34d7bf8b477f79c9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the link policy of connected handsets based on the system state.  <a href="group__link__policy.html#ga3da4d01d0e4a61c34d7bf8b477f79c9e">More...</a><br /></td></tr>
<tr class="separator:ga3da4d01d0e4a61c34d7bf8b477f79c9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf05ec132ad6379648a01b373c6cbe19f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__link__policy.html#gaf05ec132ad6379648a01b373c6cbe19f">appLinkPolicyUpdatePowerTableDeferred</a> (const bdaddr *bd_addr)</td></tr>
<tr class="memdesc:gaf05ec132ad6379648a01b373c6cbe19f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the link policy of connected handsets based on the system state.  <a href="group__link__policy.html#gaf05ec132ad6379648a01b373c6cbe19f">More...</a><br /></td></tr>
<tr class="separator:gaf05ec132ad6379648a01b373c6cbe19f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga34018b5034da22ee083864922fc3aafd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__link__policy.html#ga34018b5034da22ee083864922fc3aafd">ASSERT_INTERNAL_MESSAGES_NOT_OVERFLOWED</a> (<a class="el" href="group__link__policy.html#ggaa7c336b9f6cd8005ba14a58ef6746e7ca2a5f12da97f9cf03ecc77ceee7230b9b">LINK_POLICY_INTERNAL_MESSAGE_END</a>) typedef struct</td></tr>
<tr class="separator:ga34018b5034da22ee083864922fc3aafd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad3bbc85ab602e03cb12d5a60e040522b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__link__policy.html#gad3bbc85ab602e03cb12d5a60e040522b">LinkPolicy_SetParameterCallbacks</a> (<a class="el" href="structlink__policy__parameter__callbacks__t.html">link_policy_parameter_callbacks_t</a> *callback)</td></tr>
<tr class="memdesc:gad3bbc85ab602e03cb12d5a60e040522b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register callbacks to allow LE and BREDR parameters to be adjusted.  <a href="group__link__policy.html#gad3bbc85ab602e03cb12d5a60e040522b">More...</a><br /></td></tr>
<tr class="separator:gad3bbc85ab602e03cb12d5a60e040522b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Header file for the Link policy manager. This module controls the settings for classic Bluetooth links, selecting the link parameters based on the current activity. </p>
<p>Defines internal to the link policy manager.</p>
<p>Configuration related definitions for the link policy manager.</p>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gaa7c336b9f6cd8005ba14a58ef6746e7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa7c336b9f6cd8005ba14a58ef6746e7c">&#9670;&nbsp;</a></span>link_policy_internal_message_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__link__policy.html#gaa7c336b9f6cd8005ba14a58ef6746e7c">link_policy_internal_message_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/bt/link_policy/link_policy_private.h&gt;</code></p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggaa7c336b9f6cd8005ba14a58ef6746e7ca12652ab15701bc4faa805f686253d300"></a>LINK_POLICY_DISCOVER_ROLE&#160;</td><td class="fielddoc"><p>Link policy discover role message which will be sent to link policy task after LINK_POLICY_DISCOVER_ROLE_TIMEOUT_MS if role change attempt fails. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaa7c336b9f6cd8005ba14a58ef6746e7cabe432326e44aefc643a58c2e0febddcb"></a>LINK_POLICY_SCHEDULED_UPDATE&#160;</td><td class="fielddoc"><p>Process a policy update requested earlier </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaa7c336b9f6cd8005ba14a58ef6746e7ca6040bcb248c2bdc144ead10fdfcc46d9"></a>LINK_POLICY_A2DP_TERMINATED_DELAY_EXPIRED&#160;</td><td class="fielddoc"><p>Timer started when an A2DP connection terminated has expired </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaa7c336b9f6cd8005ba14a58ef6746e7ca2a5f12da97f9cf03ecc77ceee7230b9b"></a>LINK_POLICY_INTERNAL_MESSAGE_END&#160;</td><td class="fielddoc"><p>This must be the final message </p>
</td></tr>
</table>

</div>
</div>
<a id="ga71e683e07863bf499c4e5d4b5954c81e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga71e683e07863bf499c4e5d4b5954c81e">&#9670;&nbsp;</a></span>lp_power_table_index</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__link__policy.html#ga71e683e07863bf499c4e5d4b5954c81e">lp_power_table_index</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/bt/link_policy/link_policy.h&gt;</code></p>

<p>Power table indexes. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga71e683e07863bf499c4e5d4b5954c81ea3f65b3be1498bbd448978c10ddd3c10b"></a>POWERTABLE_IDLE&#160;</td><td class="fielddoc"><p>Power table used when idle and one handset connected </p>
</td></tr>
<tr><td class="fieldname"><a id="gga71e683e07863bf499c4e5d4b5954c81eae53a440c9d1829280fd70de9830ebbf0"></a>POWERTABLE_MULTIPOINT_IDLE&#160;</td><td class="fielddoc"><p>Power table used when idle and two handsets are connected </p>
</td></tr>
<tr><td class="fieldname"><a id="gga71e683e07863bf499c4e5d4b5954c81ea1cc1cdabdef431424b06f6f0823f86e7"></a>POWERTABLE_IDLE_WITH_BROADCAST&#160;</td><td class="fielddoc"><p>Power table used when the BR/EDR ACL is idle and the controller is also receiving a broadcast </p>
</td></tr>
<tr><td class="fieldname"><a id="gga71e683e07863bf499c4e5d4b5954c81ea800a44ccacb7d8a16ab82b8a79b40521"></a>POWERTABLE_VA_ACTIVE&#160;</td><td class="fielddoc"><p>Power table used when VA is active </p>
</td></tr>
<tr><td class="fieldname"><a id="gga71e683e07863bf499c4e5d4b5954c81ea6cff40860b89f3b68d524d35f18b814c"></a>POWERTABLE_DFU&#160;</td><td class="fielddoc"><p>Power table used when only DFU is active </p>
</td></tr>
<tr><td class="fieldname"><a id="gga71e683e07863bf499c4e5d4b5954c81ea019b50df6cbb1a97bae8118a244c8530"></a>POWERTABLE_A2DP_STREAMING&#160;</td><td class="fielddoc"><p>Power table used when A2DP streaming </p>
</td></tr>
<tr><td class="fieldname"><a id="gga71e683e07863bf499c4e5d4b5954c81ea97f4a88cdfdb0927fdb64b51c558b979"></a>POWERTABLE_SCO_ACTIVE&#160;</td><td class="fielddoc"><p>Power table used when SCO active </p>
</td></tr>
<tr><td class="fieldname"><a id="gga71e683e07863bf499c4e5d4b5954c81eabffc81e4c23363e81402cf37c5144431"></a>POWERTABLE_PROFILES_CONNECTING_OR_DISCONNECTING&#160;</td><td class="fielddoc"><p>Power table used when profiles are connecting or disconnecting </p>
</td></tr>
<tr><td class="fieldname"><a id="gga71e683e07863bf499c4e5d4b5954c81eaa704001607fd43846a6fa60e1b785243"></a>POWERTABLE_UNASSIGNED&#160;</td><td class="fielddoc"><p>Must be the final value </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga66059f889f7a3eb6df6de627648018e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga66059f889f7a3eb6df6de627648018e1">&#9670;&nbsp;</a></span>appLinkPolicyForceUpdatePowerTable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void appLinkPolicyForceUpdatePowerTable </td>
          <td>(</td>
          <td class="paramtype">const bdaddr *&#160;</td>
          <td class="paramname"><em>bd_addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/bt/link_policy/link_policy.h&gt;</code></p>

<p>Force update the link policy of connected handsets based on the system state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bd_addr</td><td>The Bluetooth address of the handset whose state has changed. This may be set NULL if the state change is not related to any single handset. This address is not currently used, but may be used in the future. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga61d1db8e08d14fbbb648396618dff091"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga61d1db8e08d14fbbb648396618dff091">&#9670;&nbsp;</a></span>appLinkPolicyHandleA2dpTerminatedDelayExpired()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void appLinkPolicyHandleA2dpTerminatedDelayExpired </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/bt/link_policy/link_policy_private.h&gt;</code></p>

<p>Handle A2DP Termination Timer expiry. </p>
<dl class="section note"><dt>Note</dt><dd>The message that triggers this API <b>could</b> include a Bluetooth address. As there is no mechanism to queue a message specific to a single device - this has not been included </dd></dl>

</div>
</div>
<a id="ga4dacc145d29cd4d8b4750676803ee6db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4dacc145d29cd4d8b4750676803ee6db">&#9670;&nbsp;</a></span>appLinkPolicyHandleClDmAclOpenedIndication()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void appLinkPolicyHandleClDmAclOpenedIndication </td>
          <td>(</td>
          <td class="paramtype">const bdaddr *&#160;</td>
          <td class="paramname"><em>bd_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_ble</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_local</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/bt/link_policy/link_policy.h&gt;</code></p>

<p>Link policy handles the opening of an ACL by discovering the link role. If the local device is central, a role switch will be requested to become peripheral. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ind</td><td>The indication. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gabfc5c3e6c500c65d012937f8d9260432"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabfc5c3e6c500c65d012937f8d9260432">&#9670;&nbsp;</a></span>appLinkPolicyHandleConnectionLibraryMessages()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool appLinkPolicyHandleConnectionLibraryMessages </td>
          <td>(</td>
          <td class="paramtype">MessageId&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Message&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>already_handled</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/bt/link_policy/link_policy.h&gt;</code></p>
<p>Handler for connection library messages not sent directly</p>
<p>This function is called to handle any connection library messages sent to the application that the link policy module is interested in. If a message is processed then the function returns TRUE.</p>
<dl class="section note"><dt>Note</dt><dd>Some connection library messages can be sent directly as the request is able to specify a destination for the response.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Identifier of the connection library message </td></tr>
    <tr><td class="paramname">message</td><td>The message content (if any) </td></tr>
    <tr><td class="paramname">already_handled</td><td>Indication whether this message has been processed by another module. The handler may choose to ignore certain messages if they have already been handled.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if the message has been processed, otherwise returns the value in already_handled </dd></dl>

</div>
</div>
<a id="ga9de1811cdb4308fe25295a7dd93a234b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9de1811cdb4308fe25295a7dd93a234b">&#9670;&nbsp;</a></span>appLinkPolicyHandleDiscoverRole()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void appLinkPolicyHandleDiscoverRole </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_l_i_n_k___p_o_l_i_c_y___d_i_s_c_o_v_e_r___r_o_l_e___t.html">LINK_POLICY_DISCOVER_ROLE_T</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/bt/link_policy/link_policy_private.h&gt;</code></p>

<p>Discover role again if it has failed in previous attempt. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bd_addr</td><td>The Bluetooth address of the remote device. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga53630b8fedcb985e61dcbe76b77e95c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga53630b8fedcb985e61dcbe76b77e95c3">&#9670;&nbsp;</a></span>appLinkPolicyHandoverForceUpdateHandsetLinkPolicy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void appLinkPolicyHandoverForceUpdateHandsetLinkPolicy </td>
          <td>(</td>
          <td class="paramtype">const bdaddr *&#160;</td>
          <td class="paramname"><em>bd_addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/bt/link_policy/link_policy.h&gt;</code></p>

<p>Force update the handset link policy on the new primary after handover. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bd_addr</td><td>The Bluetooth address of the handset that has just been handed-over. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga3da4d01d0e4a61c34d7bf8b477f79c9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3da4d01d0e4a61c34d7bf8b477f79c9e">&#9670;&nbsp;</a></span>appLinkPolicyUpdatePowerTable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void appLinkPolicyUpdatePowerTable </td>
          <td>(</td>
          <td class="paramtype">const bdaddr *&#160;</td>
          <td class="paramname"><em>bd_addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/bt/link_policy/link_policy.h&gt;</code></p>

<p>Update the link policy of connected handsets based on the system state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bd_addr</td><td>The Bluetooth address of the handset whose state has changed. This may be set NULL if the state change is not related to any single handset. This address is not currently used, but may be used in the future. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaf05ec132ad6379648a01b373c6cbe19f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf05ec132ad6379648a01b373c6cbe19f">&#9670;&nbsp;</a></span>appLinkPolicyUpdatePowerTableDeferred()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void appLinkPolicyUpdatePowerTableDeferred </td>
          <td>(</td>
          <td class="paramtype">const bdaddr *&#160;</td>
          <td class="paramname"><em>bd_addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/bt/link_policy/link_policy_private.h&gt;</code></p>

<p>Update the link policy of connected handsets based on the system state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bd_addr</td><td>The Bluetooth address of the handset whose state has changed. This may be set NULL if the state change is not related to any single handset. This address is not currently used, but may be used in the future.</td></tr>
  </table>
  </dd>
</dl>
<p>This API is similar to <a class="el" href="group__link__policy.html#ga3da4d01d0e4a61c34d7bf8b477f79c9e">appLinkPolicyUpdatePowerTable</a> but the power table update is scheduled internally in the link policy code and will be applied after a short delay. </p>

</div>
</div>
<a id="ga34018b5034da22ee083864922fc3aafd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga34018b5034da22ee083864922fc3aafd">&#9670;&nbsp;</a></span>ASSERT_INTERNAL_MESSAGES_NOT_OVERFLOWED()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ASSERT_INTERNAL_MESSAGES_NOT_OVERFLOWED </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__link__policy.html#ggaa7c336b9f6cd8005ba14a58ef6746e7ca2a5f12da97f9cf03ecc77ceee7230b9b">LINK_POLICY_INTERNAL_MESSAGE_END</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/bt/link_policy/link_policy_private.h&gt;</code></p>
<p>Macro for creating link policy internal message based on the message name</p>
<p>Link policy task structure </p>

</div>
</div>
<a id="gad3bbc85ab602e03cb12d5a60e040522b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad3bbc85ab602e03cb12d5a60e040522b">&#9670;&nbsp;</a></span>LinkPolicy_SetParameterCallbacks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LinkPolicy_SetParameterCallbacks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlink__policy__parameter__callbacks__t.html">link_policy_parameter_callbacks_t</a> *&#160;</td>
          <td class="paramname"><em>callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/bt/link_policy/link_policy.h&gt;</code></p>

<p>Register callbacks to allow LE and BREDR parameters to be adjusted. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">callback</td><td>Function to accept or reject incoming connections </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
