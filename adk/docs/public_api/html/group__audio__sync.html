<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Public API: Audio Sync</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Public API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__audio__sync.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Audio Sync<div class="ingroups"><a class="el" href="group__domains.html">Domains</a> &raquo; <a class="el" href="group__audio__domain.html">Audio</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>API to synchronise an audio sink with and audio source.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_u_d_i_o___s_y_n_c___a_c_t_i_v_a_t_e___i_n_d___t.html">AUDIO_SYNC_ACTIVATE_IND_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request a change to "Active" state.  <a href="struct_a_u_d_i_o___s_y_n_c___a_c_t_i_v_a_t_e___i_n_d___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_u_d_i_o___s_y_n_c___a_c_t_i_v_a_t_e___r_e_s___t.html">AUDIO_SYNC_ACTIVATE_RES_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Response to a AUDIO_SYNC_ACTIVE_IND.  <a href="struct_a_u_d_i_o___s_y_n_c___a_c_t_i_v_a_t_e___r_e_s___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_u_d_i_o___s_y_n_c___c_o_d_e_c___r_e_c_o_n_f_i_g_u_r_e_d___i_n_d___t.html">AUDIO_SYNC_CODEC_RECONFIGURED_IND_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate that the audio source codec has changed.  <a href="struct_a_u_d_i_o___s_y_n_c___c_o_d_e_c___r_e_c_o_n_f_i_g_u_r_e_d___i_n_d___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_u_d_i_o___s_y_n_c___c_o_n_n_e_c_t___i_n_d___t.html">AUDIO_SYNC_CONNECT_IND_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request a change to "Connected" state.  <a href="struct_a_u_d_i_o___s_y_n_c___c_o_n_n_e_c_t___i_n_d___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_u_d_i_o___s_y_n_c___c_o_n_n_e_c_t___r_e_s___t.html">AUDIO_SYNC_CONNECT_RES_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Response to a AUDIO_SYNC_CONNECT_IND.  <a href="struct_a_u_d_i_o___s_y_n_c___c_o_n_n_e_c_t___r_e_s___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_u_d_i_o___s_y_n_c___d_e_s_t_r_o_y___i_n_d___t.html">AUDIO_SYNC_DESTROY_IND_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notification that a source will be destroyed.  <a href="struct_a_u_d_i_o___s_y_n_c___d_e_s_t_r_o_y___i_n_d___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_u_d_i_o___s_y_n_c___d_e_s_t_r_o_y___r_e_s___t.html">AUDIO_SYNC_DESTROY_RES_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Response to a AUDIO_SYNC_DESTROY_IND.  <a href="struct_a_u_d_i_o___s_y_n_c___d_e_s_t_r_o_y___r_e_s___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaudio__sync__interface__t.html">audio_sync_interface_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function interface to an audio_sync object.  <a href="structaudio__sync__interface__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_u_d_i_o___s_y_n_c___p_r_e_p_a_r_e___i_n_d___t.html">AUDIO_SYNC_PREPARE_IND_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request to prepare for a change to "Active" state.  <a href="struct_a_u_d_i_o___s_y_n_c___p_r_e_p_a_r_e___i_n_d___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_u_d_i_o___s_y_n_c___p_r_e_p_a_r_e___r_e_s___t.html">AUDIO_SYNC_PREPARE_RES_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Response to a AUDIO_SYNC_PREPARE_IND.  <a href="struct_a_u_d_i_o___s_y_n_c___p_r_e_p_a_r_e___r_e_s___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_u_d_i_o___s_y_n_c___s_t_a_t_e___i_n_d___t.html">AUDIO_SYNC_STATE_IND_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate that the audio source state has changed.  <a href="struct_a_u_d_i_o___s_y_n_c___s_t_a_t_e___i_n_d___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaudio__sync__t.html">audio_sync_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents the peer instance to synchronise with.  <a href="structaudio__sync__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaced39e1306417bb9141935c6d889e939"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__audio__sync.html#gaced39e1306417bb9141935c6d889e939">audio_sync_send_sync_message</a>) (struct <a class="el" href="structaudio__sync__t.html">audio_sync_t</a> *sync_inst, MessageId id, Message message)</td></tr>
<tr class="memdesc:gaced39e1306417bb9141935c6d889e939"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the function that sends a audio_sync_msg_t to an audio_sink.  <a href="group__audio__sync.html#gaced39e1306417bb9141935c6d889e939">More...</a><br /></td></tr>
<tr class="separator:gaced39e1306417bb9141935c6d889e939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6df1889b25461b65db95a2679dfe668a"><td class="memItemLeft" align="right" valign="top"><a id="ga6df1889b25461b65db95a2679dfe668a"></a>
typedef struct <a class="el" href="structaudio__sync__t.html">audio_sync_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__audio__sync.html#ga6df1889b25461b65db95a2679dfe668a">audio_sync_t</a></td></tr>
<tr class="memdesc:ga6df1889b25461b65db95a2679dfe668a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents the peer instance to synchronise with. <br /></td></tr>
<tr class="separator:ga6df1889b25461b65db95a2679dfe668a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga7243272cb29207d8f49ff7d6dbc1234a"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__audio__sync.html#ga7243272cb29207d8f49ff7d6dbc1234a">audio_sync_msg_t</a> { , <a class="el" href="group__audio__sync.html#gga7243272cb29207d8f49ff7d6dbc1234aa26c5be88f11eacd0713d461dd3da28f9">AUDIO_SYNC_MESSAGE_END</a>
 }</td></tr>
<tr class="memdesc:ga7243272cb29207d8f49ff7d6dbc1234a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Messages used to synchronise between two AV instances.  <a href="group__audio__sync.html#ga7243272cb29207d8f49ff7d6dbc1234a">More...</a><br /></td></tr>
<tr class="separator:ga7243272cb29207d8f49ff7d6dbc1234a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9f2f0afacd4d86bba153d7639c15a2aa"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__audio__sync.html#ga9f2f0afacd4d86bba153d7639c15a2aa">audio_sync_state_t</a> </td></tr>
<tr class="memdesc:ga9f2f0afacd4d86bba153d7639c15a2aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simplified audio states used for synchronisation.  <a href="group__audio__sync.html#ga9f2f0afacd4d86bba153d7639c15a2aa">More...</a><br /></td></tr>
<tr class="separator:ga9f2f0afacd4d86bba153d7639c15a2aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga488295b4af682275b1a8915068cc50e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__audio__sync.html#ga488295b4af682275b1a8915068cc50e3">AudioSync_ActivateIndication</a> (struct <a class="el" href="structaudio__sync__t.html">audio_sync_t</a> *sync_inst, Task reply_task, audio_source_t source_id, uint8 seid, uint8 sync_id)</td></tr>
<tr class="memdesc:ga488295b4af682275b1a8915068cc50e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate that an audio sink must become active and expect a reply when complete.  <a href="group__audio__sync.html#ga488295b4af682275b1a8915068cc50e3">More...</a><br /></td></tr>
<tr class="separator:ga488295b4af682275b1a8915068cc50e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3e6134d720fa49720fd6754182cbfc47"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__audio__sync.html#ga3e6134d720fa49720fd6754182cbfc47">AudioSync_CancelQueuedMessages</a> (struct <a class="el" href="structaudio__sync__t.html">audio_sync_t</a> *sync_inst)</td></tr>
<tr class="memdesc:ga3e6134d720fa49720fd6754182cbfc47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel any pending AUDIO_SYNC_* messages on a Task.  <a href="group__audio__sync.html#ga3e6134d720fa49720fd6754182cbfc47">More...</a><br /></td></tr>
<tr class="separator:ga3e6134d720fa49720fd6754182cbfc47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1a249a9976f340beab032f7942f79eac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__audio__sync.html#ga1a249a9976f340beab032f7942f79eac">AudioSync_CodecReconfiguredIndication</a> (struct <a class="el" href="structaudio__sync__t.html">audio_sync_t</a> *sync_inst, audio_source_t source_id, uint8 seid, uint8 device_id, uint8 stream_id)</td></tr>
<tr class="memdesc:ga1a249a9976f340beab032f7942f79eac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate that the codec used by the audio source has changed.  <a href="group__audio__sync.html#ga1a249a9976f340beab032f7942f79eac">More...</a><br /></td></tr>
<tr class="separator:ga1a249a9976f340beab032f7942f79eac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga29a5fdea2f04efe358a4ee069897eb0a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__audio__sync.html#ga29a5fdea2f04efe358a4ee069897eb0a">AudioSync_ConnectIndication</a> (struct <a class="el" href="structaudio__sync__t.html">audio_sync_t</a> *sync_inst, Task reply_task, audio_source_t source_id, uint8 seid, uint8 sync_id)</td></tr>
<tr class="memdesc:ga29a5fdea2f04efe358a4ee069897eb0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate that an audio sink must become connected and expect a reply when complete.  <a href="group__audio__sync.html#ga29a5fdea2f04efe358a4ee069897eb0a">More...</a><br /></td></tr>
<tr class="separator:ga29a5fdea2f04efe358a4ee069897eb0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4dd80bfd25e339bfc13c9ab1b246915d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__audio__sync.html#ga4dd80bfd25e339bfc13c9ab1b246915d">AudioSync_DestroyIndication</a> (struct <a class="el" href="structaudio__sync__t.html">audio_sync_t</a> *sync_inst, Task reply_task, audio_source_t source_id, uint8 sync_id)</td></tr>
<tr class="memdesc:ga4dd80bfd25e339bfc13c9ab1b246915d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate that an audio sink must prepare for the source to be destroyed.  <a href="group__audio__sync.html#ga4dd80bfd25e339bfc13c9ab1b246915d">More...</a><br /></td></tr>
<tr class="separator:ga4dd80bfd25e339bfc13c9ab1b246915d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga35b67770b641c1a908660164b6b76b47"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__audio__sync.html#ga35b67770b641c1a908660164b6b76b47">AudioSync_PrepareIndication</a> (struct <a class="el" href="structaudio__sync__t.html">audio_sync_t</a> *sync_inst, Task reply_task, audio_source_t source_id, uint8 seid, uint8 sync_id)</td></tr>
<tr class="memdesc:ga35b67770b641c1a908660164b6b76b47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate that an audio sink must become active and expect a reply when complete.  <a href="group__audio__sync.html#ga35b67770b641c1a908660164b6b76b47">More...</a><br /></td></tr>
<tr class="separator:ga35b67770b641c1a908660164b6b76b47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad994991d43ee76763dde6160b76184bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__audio__sync.html#gad994991d43ee76763dde6160b76184bc">AudioSync_StateIndication</a> (struct <a class="el" href="structaudio__sync__t.html">audio_sync_t</a> *sync_inst, audio_source_t source_id, <a class="el" href="group__audio__sync.html#ga9f2f0afacd4d86bba153d7639c15a2aa">audio_sync_state_t</a> state, uint8 seid)</td></tr>
<tr class="memdesc:gad994991d43ee76763dde6160b76184bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate the current state of the audio source to an audio sink.  <a href="group__audio__sync.html#gad994991d43ee76763dde6160b76184bc">More...</a><br /></td></tr>
<tr class="separator:gad994991d43ee76763dde6160b76184bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>API to synchronise an audio sink with and audio source. </p>
<p>Example of the API in use: </p><div class="plantumlgraph">
<img src="inline_umlgraph_3.png" />
</div>
 <h2 class="groupheader">Typedef Documentation</h2>
<a id="gaced39e1306417bb9141935c6d889e939"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaced39e1306417bb9141935c6d889e939">&#9670;&nbsp;</a></span>audio_sync_send_sync_message</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* audio_sync_send_sync_message) (struct <a class="el" href="structaudio__sync__t.html">audio_sync_t</a> *sync_inst, MessageId id, Message message)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/audio/audio_sync/audio_sync.h&gt;</code></p>

<p>Defines the function that sends a audio_sync_msg_t to an audio_sink. </p>
<p>The receiving instance must implement this function. It allows the receiver to implement its own method of sending the message. For example it could send it conditionally, using MessageSendConditionally, instead of using MessageSend.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sync_inst</td><td>Contains the Task to send the message to. </td></tr>
    <tr><td class="paramname">id</td><td>Message Id of the message to send. </td></tr>
    <tr><td class="paramname">message</td><td>Message payload; may be NULL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga7243272cb29207d8f49ff7d6dbc1234a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7243272cb29207d8f49ff7d6dbc1234a">&#9670;&nbsp;</a></span>audio_sync_msg_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__audio__sync.html#ga7243272cb29207d8f49ff7d6dbc1234a">audio_sync_msg_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/audio/audio_sync/audio_sync.h&gt;</code></p>

<p>Messages used to synchronise between two AV instances. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga7243272cb29207d8f49ff7d6dbc1234aa26c5be88f11eacd0713d461dd3da28f9"></a>AUDIO_SYNC_MESSAGE_END&#160;</td><td class="fielddoc"><p>This must be the final message </p>
</td></tr>
</table>

</div>
</div>
<a id="ga9f2f0afacd4d86bba153d7639c15a2aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9f2f0afacd4d86bba153d7639c15a2aa">&#9670;&nbsp;</a></span>audio_sync_state_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__audio__sync.html#ga9f2f0afacd4d86bba153d7639c15a2aa">audio_sync_state_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/audio/audio_sync/audio_sync.h&gt;</code></p>

<p>Simplified audio states used for synchronisation. </p>
<p>The states here are intended to show how ready an audio instance is. How each state maps to the underlying implementation depends on the type of the audio instance - e.g. a2dp, usb or analogue in.</p>
<p>For a2dp the states correspond to the state of the a2dp media channel:</p>
<p>AUDIO_SYNC_STATE_DISCONNECTED: a2dp media channel not open (but signalling channel may be connected).</p>
<p>AUDIO_SYNC_STATE_CONNECTED: a2dp media channel open; codec has been negotiated.</p>
<p>AUDIO_SYNC_STATE_READY: a2dp media channel is in the streaming state</p>
<p>AUDIO_SYNC_STATE_ACTIVE: a2dp media channel is in the streaming state and audio is routed </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga488295b4af682275b1a8915068cc50e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga488295b4af682275b1a8915068cc50e3">&#9670;&nbsp;</a></span>AudioSync_ActivateIndication()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AudioSync_ActivateIndication </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaudio__sync__t.html">audio_sync_t</a> *&#160;</td>
          <td class="paramname"><em>sync_inst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>reply_task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">audio_source_t&#160;</td>
          <td class="paramname"><em>source_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>seid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>sync_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/audio/audio_sync/audio_sync.h&gt;</code></p>

<p>Indicate that an audio sink must become active and expect a reply when complete. </p>
<p>The indication is sent as a AUDIO_SYNC_ACTIVE_IND to an audio sink instance.</p>
<p>The audio sink instance represented by #sync_inst must do what is necessary to get into an active state. An active state means that the media codec has been negotiated successfully and the the media stream is currently active.</p>
<p>When the active state has been reached the audio sink must reply with a AUDIO_SYNC_ACTIVE_RES to #reply_task.</p>
<p>This function will also send a response to #reply_task to cover the following cases:</p>
<p>1) If #sync_inst is NULL (e.g. no <a class="el" href="structaudio__sync__t.html" title="Represents the peer instance to synchronise with.">audio_sync_t</a> instance has been registered with the caller). A reponse message will be sent 'now' 2) If the audio sink does not send the response in time. A response message will be sent with a time delay of #AudioSync_MaxSyncDelayMs().</p>
<p>It is assumed that the caller will wait for the response message before continuing its normal operation.</p>
<p>When the caller receives the first repsonse message it must also cancel any other AUDIO_SYNC_ACTIVE_RES that have been sent to it. This is to cover the case where the time-delayed message from 2) above may still be in the caller's queue.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sync_inst</td><td>The <a class="el" href="structaudio__sync__t.html" title="Represents the peer instance to synchronise with.">audio_sync_t</a> instance to send the message to. </td></tr>
    <tr><td class="paramname">reply_task</td><td>The Task to send the reply message to. </td></tr>
    <tr><td class="paramname">source_id</td><td>The audio source id. </td></tr>
    <tr><td class="paramname">seid</td><td>The SEID of the audio source. The audio sink must select a compatible SEID. </td></tr>
    <tr><td class="paramname">sync_id</td><td>The sequence id of this specific connect indication message.</td></tr>
  </table>
  </dd>
</dl>
<p>Indicate that an audio sink must become active and expect a reply when complete. </p>

</div>
</div>
<a id="ga3e6134d720fa49720fd6754182cbfc47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3e6134d720fa49720fd6754182cbfc47">&#9670;&nbsp;</a></span>AudioSync_CancelQueuedMessages()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AudioSync_CancelQueuedMessages </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaudio__sync__t.html">audio_sync_t</a> *&#160;</td>
          <td class="paramname"><em>sync_inst</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/audio/audio_sync/audio_sync.h&gt;</code></p>

<p>Cancel any pending AUDIO_SYNC_* messages on a Task. </p>
<p>This will cancel all audio_sync_msg_t messages that are queued up on the Task.</p>
<p>It may be used, for example, when destroying an object that receives audio_sync_msg_t messages, or if it uses the AudioSink_* API to send audio_sync_msg_t messages, to clear the Task of <a class="el" href="structaudio__sync__t.html" title="Represents the peer instance to synchronise with.">audio_sync_t</a> instance of any sent but not yet delivered messages. </p>

</div>
</div>
<a id="ga1a249a9976f340beab032f7942f79eac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1a249a9976f340beab032f7942f79eac">&#9670;&nbsp;</a></span>AudioSync_CodecReconfiguredIndication()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AudioSync_CodecReconfiguredIndication </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaudio__sync__t.html">audio_sync_t</a> *&#160;</td>
          <td class="paramname"><em>sync_inst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">audio_source_t&#160;</td>
          <td class="paramname"><em>source_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>seid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>device_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>stream_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/audio/audio_sync/audio_sync.h&gt;</code></p>

<p>Indicate that the codec used by the audio source has changed. </p>
<p>The indication is sent as a AUDIO_SYNC_CODEC_RECONFIGURED_IND to an audio sink instance.</p>
<p>There is no reply message expected to be sent back to the audio source.</p>
<p>Note: Currently the codec parameters are very much A2DP specific but are likely to change in order to work with different types of audio source, e.g. USB or analogue input.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sync_inst</td><td>The audio_sync instance to send the message to. </td></tr>
    <tr><td class="paramname">source_id</td><td>The audio source id. </td></tr>
    <tr><td class="paramname">seid</td><td>The SEID of the audio source. The audio sink must select a compatible SEID. </td></tr>
    <tr><td class="paramname">device_id</td><td>The A2DP device id of the audio source. </td></tr>
    <tr><td class="paramname">stream_id</td><td>The A2DP stream id of the audio source.</td></tr>
  </table>
  </dd>
</dl>
<p>Indicate that the codec used by the audio source has changed. </p>

</div>
</div>
<a id="ga29a5fdea2f04efe358a4ee069897eb0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga29a5fdea2f04efe358a4ee069897eb0a">&#9670;&nbsp;</a></span>AudioSync_ConnectIndication()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AudioSync_ConnectIndication </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaudio__sync__t.html">audio_sync_t</a> *&#160;</td>
          <td class="paramname"><em>sync_inst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>reply_task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">audio_source_t&#160;</td>
          <td class="paramname"><em>source_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>seid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>sync_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/audio/audio_sync/audio_sync.h&gt;</code></p>

<p>Indicate that an audio sink must become connected and expect a reply when complete. </p>
<p>The indication is sent as a AUDIO_SYNC_CONNECT_IND to an audio sink instance.</p>
<p>The audio sink instance represented by #sync_inst must do what is necessary to get into a connected state. A connected state means that the media codec has been negotiated successfully but the media stream is not currently active.</p>
<p>When the connected state has been reached the audio sink must reply with a AUDIO_SYNC_CONNECT_RES to #reply_task.</p>
<p>This function will also send a response to #reply_task to cover the following cases:</p>
<p>1) If #sync_inst is NULL (e.g. no <a class="el" href="structaudio__sync__t.html" title="Represents the peer instance to synchronise with.">audio_sync_t</a> instance has been registered with the caller). A reponse message will be sent 'now' 2) If the audio sink does not send the response in time. A response message will be sent with a time delay of #AudioSync_MaxSyncDelayMs().</p>
<p>It is assumed that the caller will wait for the response message before continuing its normal operation.</p>
<p>When the caller receives the first repsonse message it must also cancel any other AUDIO_SYNC_CONNECT_RES that have been sent to it. This is to cover the case where the time-delayed message from 2) above may still be in the caller's queue.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sync_inst</td><td>The <a class="el" href="structaudio__sync__t.html" title="Represents the peer instance to synchronise with.">audio_sync_t</a> instance to send the message to. </td></tr>
    <tr><td class="paramname">reply_task</td><td>The Task to send the reply message to. </td></tr>
    <tr><td class="paramname">source_id</td><td>The audio source id. </td></tr>
    <tr><td class="paramname">seid</td><td>The SEID of the audio source. The audio sink must select a compatible SEID. </td></tr>
    <tr><td class="paramname">sync_id</td><td>The sequence id of this specific connect indication message. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga4dd80bfd25e339bfc13c9ab1b246915d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4dd80bfd25e339bfc13c9ab1b246915d">&#9670;&nbsp;</a></span>AudioSync_DestroyIndication()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AudioSync_DestroyIndication </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaudio__sync__t.html">audio_sync_t</a> *&#160;</td>
          <td class="paramname"><em>sync_inst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>reply_task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">audio_source_t&#160;</td>
          <td class="paramname"><em>source_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>sync_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/audio/audio_sync/audio_sync.h&gt;</code></p>

<p>Indicate that an audio sink must prepare for the source to be destroyed. </p>
<p>The indication is sent as a AUDIO_SYNC_DESTROY_IND to an audio sink instance.</p>
<p>The audio sink instance represented by #sync_inst must clear any stale references to the sync interface and send AUDIO_SYNC_DESTROY_RES to #reply_task.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sync_inst</td><td>The <a class="el" href="structaudio__sync__t.html" title="Represents the peer instance to synchronise with.">audio_sync_t</a> instance to send the message to. </td></tr>
    <tr><td class="paramname">reply_task</td><td>The Task to send the reply message to. </td></tr>
    <tr><td class="paramname">source_id</td><td>The audio source id. </td></tr>
    <tr><td class="paramname">sync_id</td><td>The sequence id of this specific connect indication message. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga35b67770b641c1a908660164b6b76b47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga35b67770b641c1a908660164b6b76b47">&#9670;&nbsp;</a></span>AudioSync_PrepareIndication()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AudioSync_PrepareIndication </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaudio__sync__t.html">audio_sync_t</a> *&#160;</td>
          <td class="paramname"><em>sync_inst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>reply_task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">audio_source_t&#160;</td>
          <td class="paramname"><em>source_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>seid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>sync_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/audio/audio_sync/audio_sync.h&gt;</code></p>

<p>Indicate that an audio sink must become active and expect a reply when complete. </p>
<p>The indication is sent as a AUDIO_SYNC_PREPARE_IND to an audio sink instance.</p>
<p>The audio sink instance represented by #sync_inst must do what is necessary to prepare for active state. This should include any connection establishment or time consuming processes necessary for the sink to become active</p>
<p>When the prepared the audio sink must reply with an AUDIO_SYNC_PREPARE_RES to #reply_task with reason audio_sync_success</p>
<p>This function will also send a response to #reply_task to cover the following cases:</p>
<p>1) If #sync_inst is NULL (e.g. no <a class="el" href="structaudio__sync__t.html" title="Represents the peer instance to synchronise with.">audio_sync_t</a> instance has been registered with the caller). A reponse message will be sent 'now' with reason audio_sync_not_required 2) If the audio sink does not send the response in time. A response message will be sent with a time delay of #AudioSync_MaxPrepareSyncDelayMs() with reason audio_sync_timeout</p>
<p>It is assumed that the caller will wait for the response message before continuing its normal operation.</p>
<p>The caller will always wait for a response from the sink unless #sync_inst is NULL before indicating that audio has been connected. This will delay creation of the audio chain until the #sync_inst is ready to become active.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sync_inst</td><td>The <a class="el" href="structaudio__sync__t.html" title="Represents the peer instance to synchronise with.">audio_sync_t</a> instance to send the message to. </td></tr>
    <tr><td class="paramname">reply_task</td><td>The Task to send the reply message to. </td></tr>
    <tr><td class="paramname">source_id</td><td>The audio source id. </td></tr>
    <tr><td class="paramname">seid</td><td>The SEID of the audio source. The audio sink must select a compatible SEID. </td></tr>
    <tr><td class="paramname">sync_id</td><td>The sequence id of this specific connect indication message.</td></tr>
  </table>
  </dd>
</dl>
<p>Indicate that an audio sink must become active and expect a reply when complete. </p>

</div>
</div>
<a id="gad994991d43ee76763dde6160b76184bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad994991d43ee76763dde6160b76184bc">&#9670;&nbsp;</a></span>AudioSync_StateIndication()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AudioSync_StateIndication </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaudio__sync__t.html">audio_sync_t</a> *&#160;</td>
          <td class="paramname"><em>sync_inst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">audio_source_t&#160;</td>
          <td class="paramname"><em>source_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__audio__sync.html#ga9f2f0afacd4d86bba153d7639c15a2aa">audio_sync_state_t</a>&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>seid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/audio/audio_sync/audio_sync.h&gt;</code></p>

<p>Indicate the current state of the audio source to an audio sink. </p>
<p>The indication is sent as a AUDIO_SYNC_STATE_IND to an audio sink instance.</p>
<p>The audio sink shall attempt to match the state of the audio source, but may fail without affecting the audio source.</p>
<p>There is no reply message expected to be sent back to the audio source.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sync_inst</td><td>The audio_sync instance to send the message to. </td></tr>
    <tr><td class="paramname">source_id</td><td>The audio source id. </td></tr>
    <tr><td class="paramname">state</td><td>The state of the audio source that the audio sink should try to match. </td></tr>
    <tr><td class="paramname">seid</td><td>The SEID of the audio source. The audio sink must select a compatible SEID.</td></tr>
  </table>
  </dd>
</dl>
<p>Indicate the current state of the audio source to an audio sink. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
