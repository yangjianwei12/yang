<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Public API: DFU</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Public API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__dfu.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">DFU<div class="ingroups"><a class="el" href="group__domains.html">Domains</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>A group of DFU related components.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__dfu__case"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu__case.html">DFU Case</a></td></tr>
<tr class="memdesc:group__dfu__case"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interface of the dfu_case module. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__dfu__protocol"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu__protocol.html">DFU Protocol</a></td></tr>
<tr class="memdesc:group__dfu__protocol"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definition of the public APIs for the dfu_protocol module. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:dfu_8c"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dfu_8c.html">dfu.c</a></td></tr>
<tr class="memdesc:dfu_8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Device firmware upgrade management. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:dfu__peer_8c"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dfu__peer_8c.html">dfu_peer.c</a></td></tr>
<tr class="memdesc:dfu__peer_8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macros and Routines for establishing the DFU L2CAP Channel. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:dfu__peer__handover_8c"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dfu__peer__handover_8c.html">dfu_peer_handover.c</a></td></tr>
<tr class="memdesc:dfu__peer__handover_8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">DFU peer handover interfaces. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:dfu__rules_8c"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dfu__rules_8c.html">dfu_rules.c</a></td></tr>
<tr class="memdesc:dfu__rules_8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rules for the DFU process. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_d_f_u___p_e_e_r___i_n_t_e_r_n_a_l___s_t_a_r_t_u_p___r_e_q___t.html">DFU_PEER_INTERNAL_STARTUP_REQ_T</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdfu__rules__task__data__t.html">dfu_rules_task_data_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">DFU process rules task data.  <a href="structdfu__rules__task__data__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdfu__task__data__t.html">dfu_task_data_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga96f8a8dc2778dba6cef27021df5c57c0"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#ga96f8a8dc2778dba6cef27021df5c57c0">dfu_messages_t</a> { <br />
&#160;&#160;<a class="el" href="group__dfu.html#gga96f8a8dc2778dba6cef27021df5c57c0a936770f2fdf5e4e5300cfde025b4f75b">DFU_REQUESTED_TO_CONFIRM</a> = DFU_MESSAGE_BASE, 
<a class="el" href="group__dfu.html#gga96f8a8dc2778dba6cef27021df5c57c0a89c7829afe249d105756cfcf1a1120f4">DFU_REQUESTED_IN_PROGRESS</a>, 
<a class="el" href="group__dfu.html#gga96f8a8dc2778dba6cef27021df5c57c0aa4b16d0ab4abea14f0d9e4254c648201">DFU_ACTIVITY</a>, 
<a class="el" href="group__dfu.html#gga96f8a8dc2778dba6cef27021df5c57c0a2021ff3642293671975541815760710a">DFU_STARTED</a>, 
<br />
&#160;&#160;<a class="el" href="group__dfu.html#gga96f8a8dc2778dba6cef27021df5c57c0afefd1f5fb59218e6eaf7d87668016190">DFU_COMPLETED</a>, 
<a class="el" href="group__dfu.html#gga96f8a8dc2778dba6cef27021df5c57c0a679951cbd001142ae6fe2e941de88531">DFU_CLEANUP_ON_ABORT</a>, 
<a class="el" href="group__dfu.html#gga96f8a8dc2778dba6cef27021df5c57c0afa049d034267f327c18e180a80490e83">DFU_ABORTED</a>, 
<a class="el" href="group__dfu.html#gga96f8a8dc2778dba6cef27021df5c57c0abe45c64e3fae017dc629f8e0fa93a3cc">DFU_READY_FOR_SILENT_COMMIT</a>, 
<br />
&#160;&#160;<a class="el" href="group__dfu.html#gga96f8a8dc2778dba6cef27021df5c57c0a3e87c87c437eae09b9ae9c67af578077">DFU_READY_TO_REBOOT</a>, 
<a class="el" href="group__dfu.html#gga96f8a8dc2778dba6cef27021df5c57c0aa5c87ac0a021a22122988b8b4d9cb421">DFU_TRANSPORT_CONNECTED</a>, 
<a class="el" href="group__dfu.html#gga96f8a8dc2778dba6cef27021df5c57c0af6faef264d4e1efd9a77479e51b4a392">DFU_TRANSPORT_DISCONNECTED</a>, 
<a class="el" href="group__dfu.html#gga96f8a8dc2778dba6cef27021df5c57c0a76f76696b8c82698a42f04f03220dc2a">DFU_MESSAGE_END</a>
<br />
 }</td></tr>
<tr class="separator:ga96f8a8dc2778dba6cef27021df5c57c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaef82e85b4aa9c435d5b2905d261006cb"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#gaef82e85b4aa9c435d5b2905d261006cb">dfu_peer_internal_messages_t</a> { <a class="el" href="group__dfu.html#ggaef82e85b4aa9c435d5b2905d261006cbaf66384009b03e474491d8797bdc8dede">DFU_PEER_INTERNAL_STARTUP_REQ</a> = INTERNAL_MESSAGE_BASE, 
<a class="el" href="group__dfu.html#ggaef82e85b4aa9c435d5b2905d261006cba989f64bc7431bb4a2d6451b789296163">DFU_PEER_INTERNAL_MESSAGE_MORE_DATA</a>, 
<a class="el" href="group__dfu.html#ggaef82e85b4aa9c435d5b2905d261006cba155d6c3ed63ebab3f35fd3016fdd9ac7">DFU_PEER_INTERNAL_CLOSE_SDP_REQ</a>, 
<a class="el" href="group__dfu.html#ggaef82e85b4aa9c435d5b2905d261006cba0af06d2741fc46f8d0d5e4f95d398c91">DFU_PEER_INTERNAL_MESSAGE_END</a>
 }</td></tr>
<tr class="separator:gaef82e85b4aa9c435d5b2905d261006cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab3acd1929bc85675aebf5d261d9f4ef4"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#gab3acd1929bc85675aebf5d261d9f4ef4">dfu_peer_messages_t</a> { <a class="el" href="group__dfu.html#ggab3acd1929bc85675aebf5d261d9f4ef4a80523ec279add2d0f8747c94165042d9">DFU_PEER_INIT_CFM</a> = DFU_PEER_MESSAGE_BASE
, <a class="el" href="group__dfu.html#ggab3acd1929bc85675aebf5d261d9f4ef4a9f923f278e951b900d8c2f2314cafdff">DFU_PEER_MESSAGE_END</a>
 }</td></tr>
<tr class="memdesc:gab3acd1929bc85675aebf5d261d9f4ef4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message IDs from Upgrade Peer to main application task.  <a href="group__dfu.html#gab3acd1929bc85675aebf5d261d9f4ef4">More...</a><br /></td></tr>
<tr class="separator:gab3acd1929bc85675aebf5d261d9f4ef4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac715668b1c6fa4123fdbded11a052e8f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#gac715668b1c6fa4123fdbded11a052e8f">dfu_peer_sig_l2cap_status_t</a> { <a class="el" href="group__dfu.html#ggac715668b1c6fa4123fdbded11a052e8fa1e0e245098d399b453f2d52b642704e8">dfu_peer_sig_l2cap_connected</a>, 
<a class="el" href="group__dfu.html#ggac715668b1c6fa4123fdbded11a052e8fa1445c11efb4f9fb59d4c928c14bfce1f">dfu_peer_sig_l2cap_link_loss</a>
 }</td></tr>
<tr class="separator:gac715668b1c6fa4123fdbded11a052e8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae2d90969d852d6f26f52e2ebe3d5a41a"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#gae2d90969d852d6f26f52e2ebe3d5a41a">dfu_peer_state_t</a> { , <br />
&#160;&#160;<a class="el" href="group__dfu.html#ggae2d90969d852d6f26f52e2ebe3d5a41aadd37fa3a4e7fd36e931b52d86c2fc834">DFU_PEER_STATE_IDLE</a> = 1, 
<a class="el" href="group__dfu.html#ggae2d90969d852d6f26f52e2ebe3d5a41aac70ba349e3e91eb18a543f838ee42cd1">DFU_PEER_STATE_DISCONNECTED</a> = 2, 
<a class="el" href="group__dfu.html#ggae2d90969d852d6f26f52e2ebe3d5a41aa05f708701e7ed152c4b93bb4bd5e6395">DFU_PEER_STATE_CONNECTING_ACL</a> = 3, 
<a class="el" href="group__dfu.html#ggae2d90969d852d6f26f52e2ebe3d5a41aab07ccc3d0be24a8f394ebbd94b1b9db1">DFU_PEER_STATE_CONNECTING_SDP_SEARCH</a> = 4, 
<br />
&#160;&#160;<a class="el" href="group__dfu.html#ggae2d90969d852d6f26f52e2ebe3d5a41aaccb39e60c54487df333aa28bff7b6cd8">DFU_PEER_STATE_CONNECTING_LOCAL</a> = 5, 
<a class="el" href="group__dfu.html#ggae2d90969d852d6f26f52e2ebe3d5a41aa133b1ec9c71fbdec64988a327d84152c">DFU_PEER_STATE_CONNECTING_REMOTE</a> = 6, 
<a class="el" href="group__dfu.html#ggae2d90969d852d6f26f52e2ebe3d5a41aa77d6494e65573b7bbdec39c97edf14af">DFU_PEER_STATE_CONNECTED</a> = 7, 
<a class="el" href="group__dfu.html#ggae2d90969d852d6f26f52e2ebe3d5a41aaa1b2031a6dbbc673081c710434a01f9e">DFU_PEER_STATE_DISCONNECTING</a> = 8
<br />
 }</td></tr>
<tr class="separator:gae2d90969d852d6f26f52e2ebe3d5a41a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab11e3465dd07bc0326e6a1fcb7022b28"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#gab11e3465dd07bc0326e6a1fcb7022b28">dfu_rules_messages_t</a> { <br />
&#160;&#160;<a class="el" href="group__dfu.html#ggab11e3465dd07bc0326e6a1fcb7022b28a9026961d1149c0d09d4f1fff9ab8d925">DFU_RULES_START_VALIDATION</a> = CONN_RULES_MESSAGE_BASE, 
<a class="el" href="group__dfu.html#ggab11e3465dd07bc0326e6a1fcb7022b28a7426a385fbebf128d8784f9ac4d109b6">DFU_RULES_KICK_PEER_VALIDATION</a>, 
<a class="el" href="group__dfu.html#ggab11e3465dd07bc0326e6a1fcb7022b28a458ef5ef7a0b5d0009fd934e50fd2f78">DFU_RULES_VALIDATION_COMPLETE</a>, 
<a class="el" href="group__dfu.html#ggab11e3465dd07bc0326e6a1fcb7022b28a571be2eea807c2b4c43fb07368b02c95">DFU_RULES_RELAY_TRANSFER_COMPLETE</a>, 
<br />
&#160;&#160;<a class="el" href="group__dfu.html#ggab11e3465dd07bc0326e6a1fcb7022b28a61870925c181a10143882a53950260f9">DFU_RULES_RELAY_RESUME_POINT_INFO</a>, 
<a class="el" href="group__dfu.html#ggab11e3465dd07bc0326e6a1fcb7022b28a3bc512646b8ed50eff78e18d1911ac99">DFU_RULES_REVERT_UPGRADE</a>, 
<a class="el" href="group__dfu.html#ggab11e3465dd07bc0326e6a1fcb7022b28a5a7f12b241fbd553d8a053468e00174a">DFU_RULES_START_PEER_DFU</a>, 
<a class="el" href="group__dfu.html#ggab11e3465dd07bc0326e6a1fcb7022b28a6ec01e2b1b1f6fbfb8572b1bc57b85ac">DFU_RULES_START_REBOOT</a>
<br />
 }</td></tr>
<tr class="separator:gab11e3465dd07bc0326e6a1fcb7022b28"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga0bc3db3adff17b2fd6b60f606043cdf7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#ga0bc3db3adff17b2fd6b60f606043cdf7">Dfu_AllowUpgrades</a> (bool allow)</td></tr>
<tr class="memdesc:ga0bc3db3adff17b2fd6b60f606043cdf7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allow upgrades to be started.  <a href="group__dfu.html#ga0bc3db3adff17b2fd6b60f606043cdf7">More...</a><br /></td></tr>
<tr class="separator:ga0bc3db3adff17b2fd6b60f606043cdf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad0667cd910f4c7fd6b9757ab11b11eda"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#gad0667cd910f4c7fd6b9757ab11b11eda">Dfu_ClearPsStore</a> (void)</td></tr>
<tr class="memdesc:gad0667cd910f4c7fd6b9757ab11b11eda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears upgrade related PSKeys.  <a href="group__dfu.html#gad0667cd910f4c7fd6b9757ab11b11eda">More...</a><br /></td></tr>
<tr class="separator:gad0667cd910f4c7fd6b9757ab11b11eda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0515580134ae72d6704178d73bf71ea0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#ga0515580134ae72d6704178d73bf71ea0">Dfu_ClientRegister</a> (Task <a class="el" href="device__test__service__commands__sensors_8c.html#aba8d7e5c1906844fdb6e47953d3518fc">task</a>)</td></tr>
<tr class="memdesc:ga0515580134ae72d6704178d73bf71ea0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a client to the UPGRADE module.  <a href="group__dfu.html#ga0515580134ae72d6704178d73bf71ea0">More...</a><br /></td></tr>
<tr class="separator:ga0515580134ae72d6704178d73bf71ea0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga08b44c37db10202e11c3f612457c26a5"><td class="memItemLeft" align="right" valign="top">upgrade_context_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#ga08b44c37db10202e11c3f612457c26a5">Dfu_GetContext</a> (void)</td></tr>
<tr class="memdesc:ga08b44c37db10202e11c3f612457c26a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the context of the UPGRADE module.  <a href="group__dfu.html#ga08b44c37db10202e11c3f612457c26a5">More...</a><br /></td></tr>
<tr class="separator:ga08b44c37db10202e11c3f612457c26a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaca89d6f479f5c254c186bc9e97976bac"><td class="memItemLeft" align="right" valign="top">dfu_reboot_reason_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#gaca89d6f479f5c254c186bc9e97976bac">Dfu_GetRebootReason</a> (void)</td></tr>
<tr class="memdesc:gaca89d6f479f5c254c186bc9e97976bac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the reboot reason.  <a href="group__dfu.html#gaca89d6f479f5c254c186bc9e97976bac">More...</a><br /></td></tr>
<tr class="separator:gaca89d6f479f5c254c186bc9e97976bac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8dbf3d8df561d4dfba455458e8d6dd5f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#ga8dbf3d8df561d4dfba455458e8d6dd5f">Dfu_HandleDeviceNotInUse</a> (void)</td></tr>
<tr class="memdesc:ga8dbf3d8df561d4dfba455458e8d6dd5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Device is not in use currently so, proceed with the pending silent commit if any.  <a href="group__dfu.html#ga8dbf3d8df561d4dfba455458e8d6dd5f">More...</a><br /></td></tr>
<tr class="separator:ga8dbf3d8df561d4dfba455458e8d6dd5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1368263edb13f71ead4033ebf573d82f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#ga1368263edb13f71ead4033ebf573d82f">Dfu_HandleSystemMessages</a> (MessageId id, Message message, bool already_handled)</td></tr>
<tr class="memdesc:ga1368263edb13f71ead4033ebf573d82f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handler for system messages. All of which are sent to the application.  <a href="group__dfu.html#ga1368263edb13f71ead4033ebf573d82f">More...</a><br /></td></tr>
<tr class="separator:ga1368263edb13f71ead4033ebf573d82f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad66f2c3311962f302e617a7900527c6f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#gad66f2c3311962f302e617a7900527c6f">Dfu_Init</a> (Task init_task)</td></tr>
<tr class="separator:gad66f2c3311962f302e617a7900527c6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga099f2bf7cf1bda0db19ee5ba9986eb35"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#ga099f2bf7cf1bda0db19ee5ba9986eb35">Dfu_IsSilentCommitEnabled</a> (void)</td></tr>
<tr class="memdesc:ga099f2bf7cf1bda0db19ee5ba9986eb35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find out if silent commit is enabled.  <a href="group__dfu.html#ga099f2bf7cf1bda0db19ee5ba9986eb35">More...</a><br /></td></tr>
<tr class="separator:ga099f2bf7cf1bda0db19ee5ba9986eb35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabc7ca274d647a5c21e1a014fe83d8201"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#gabc7ca274d647a5c21e1a014fe83d8201">Dfu_IsUpgradeInProgress</a> (void)</td></tr>
<tr class="separator:gabc7ca274d647a5c21e1a014fe83d8201"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga33229b417da4eccd7361b3fb0be8d0e9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#ga33229b417da4eccd7361b3fb0be8d0e9">Dfu_RebootConfirm</a> (void)</td></tr>
<tr class="memdesc:ga33229b417da4eccd7361b3fb0be8d0e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify the DFU domain that a reboot can go ahead now.  <a href="group__dfu.html#ga33229b417da4eccd7361b3fb0be8d0e9">More...</a><br /></td></tr>
<tr class="separator:ga33229b417da4eccd7361b3fb0be8d0e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae9cd31d500500aafbbdcf08a2cfb91d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#gae9cd31d500500aafbbdcf08a2cfb91d8">Dfu_RequireRebootPermission</a> (bool permission_required)</td></tr>
<tr class="memdesc:gae9cd31d500500aafbbdcf08a2cfb91d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turn on or off permission requests for DFU reboots.  <a href="group__dfu.html#gae9cd31d500500aafbbdcf08a2cfb91d8">More...</a><br /></td></tr>
<tr class="separator:gae9cd31d500500aafbbdcf08a2cfb91d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga06c46b5ebb94926921d101bfc6ef8473"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#ga06c46b5ebb94926921d101bfc6ef8473">Dfu_SetContext</a> (upgrade_context_t context)</td></tr>
<tr class="memdesc:ga06c46b5ebb94926921d101bfc6ef8473"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the context of the UPGRADE module.  <a href="group__dfu.html#ga06c46b5ebb94926921d101bfc6ef8473">More...</a><br /></td></tr>
<tr class="separator:ga06c46b5ebb94926921d101bfc6ef8473"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga78582132b088963b509d5cfe786aa54a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#ga78582132b088963b509d5cfe786aa54a">Dfu_SetRebootReason</a> (dfu_reboot_reason_t val)</td></tr>
<tr class="memdesc:ga78582132b088963b509d5cfe786aa54a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the reboot reason.  <a href="group__dfu.html#ga78582132b088963b509d5cfe786aa54a">More...</a><br /></td></tr>
<tr class="separator:ga78582132b088963b509d5cfe786aa54a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac5983b5c24f86d45387aee62215dab3a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#gac5983b5c24f86d45387aee62215dab3a">Dfu_SetSilentCommitSupported</a> (uint8 is_silent_commit_supported)</td></tr>
<tr class="memdesc:gac5983b5c24f86d45387aee62215dab3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set if silent commit is supported.  <a href="group__dfu.html#gac5983b5c24f86d45387aee62215dab3a">More...</a><br /></td></tr>
<tr class="separator:gac5983b5c24f86d45387aee62215dab3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga02d993c21fc9301b9df55d7814200e74"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#ga02d993c21fc9301b9df55d7814200e74">DfuPeer_ClientRegister</a> (Task <a class="el" href="device__test__service__commands__sensors_8c.html#aba8d7e5c1906844fdb6e47953d3518fc">task</a>)</td></tr>
<tr class="memdesc:ga02d993c21fc9301b9df55d7814200e74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a client to the DEVICE UPGRADE peer module.  <a href="group__dfu.html#ga02d993c21fc9301b9df55d7814200e74">More...</a><br /></td></tr>
<tr class="separator:ga02d993c21fc9301b9df55d7814200e74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga430a2b088beb04736466a383ad67fe9f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#ga430a2b088beb04736466a383ad67fe9f">DfuPeer_Init</a> (Task init_task)</td></tr>
<tr class="memdesc:ga430a2b088beb04736466a383ad67fe9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise Device upgrade peer task.  <a href="group__dfu.html#ga430a2b088beb04736466a383ad67fe9f">More...</a><br /></td></tr>
<tr class="separator:ga430a2b088beb04736466a383ad67fe9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad6690aec897c93ab6f7601ad166d5087"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#gad6690aec897c93ab6f7601ad166d5087">DfuPeer_InitiateLinkToPeer</a> (void)</td></tr>
<tr class="memdesc:gad6690aec897c93ab6f7601ad166d5087"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate Peer connect request.  <a href="group__dfu.html#gad6690aec897c93ab6f7601ad166d5087">More...</a><br /></td></tr>
<tr class="separator:gad6690aec897c93ab6f7601ad166d5087"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaff80ef921c24192d56f93715b10b1aac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#gaff80ef921c24192d56f93715b10b1aac">DfuPeer_InitiatePeerLinkDisconnection</a> (void)</td></tr>
<tr class="memdesc:gaff80ef921c24192d56f93715b10b1aac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate Peer disconnection request.  <a href="group__dfu.html#gaff80ef921c24192d56f93715b10b1aac">More...</a><br /></td></tr>
<tr class="separator:gaff80ef921c24192d56f93715b10b1aac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa3d12ed56e5ff43c16dd74b4577ce4a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#gaa3d12ed56e5ff43c16dd74b4577ce4a0">DfuPeer_SetRole</a> (bool role)</td></tr>
<tr class="memdesc:gaa3d12ed56e5ff43c16dd74b4577ce4a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the current main role (Primary/Secondary).  <a href="group__dfu.html#gaa3d12ed56e5ff43c16dd74b4577ce4a0">More...</a><br /></td></tr>
<tr class="separator:gaa3d12ed56e5ff43c16dd74b4577ce4a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga79394ab46bd4d389f6486585677cb136"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#ga79394ab46bd4d389f6486585677cb136">DfuPeer_StillInUseAfterAbort</a> (void)</td></tr>
<tr class="memdesc:ga79394ab46bd4d389f6486585677cb136"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if Abort is trigerred and device upgrade peer still in use.  <a href="group__dfu.html#ga79394ab46bd4d389f6486585677cb136">More...</a><br /></td></tr>
<tr class="separator:ga79394ab46bd4d389f6486585677cb136"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e0fbe02301424332a5d8917da4253c4"><td class="memItemLeft" align="right" valign="top">rule_events_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#ga6e0fbe02301424332a5d8917da4253c4">DfuRules_GetEvents</a> (void)</td></tr>
<tr class="memdesc:ga6e0fbe02301424332a5d8917da4253c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get set of active events.  <a href="group__dfu.html#ga6e0fbe02301424332a5d8917da4253c4">More...</a><br /></td></tr>
<tr class="separator:ga6e0fbe02301424332a5d8917da4253c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga15fa07d7d6c3a6281121e3c4d4f1eea8"><td class="memItemLeft" align="right" valign="top">rule_set_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#ga15fa07d7d6c3a6281121e3c4d4f1eea8">DfuRules_GetRuleSet</a> (void)</td></tr>
<tr class="memdesc:ga15fa07d7d6c3a6281121e3c4d4f1eea8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get handle on the rule set, in order to directly set/clear events.  <a href="group__dfu.html#ga15fa07d7d6c3a6281121e3c4d4f1eea8">More...</a><br /></td></tr>
<tr class="separator:ga15fa07d7d6c3a6281121e3c4d4f1eea8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac862c04819deeadf026477ef85bd41dc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#gac862c04819deeadf026477ef85bd41dc">DfuRules_Init</a> (Task init_task)</td></tr>
<tr class="memdesc:gac862c04819deeadf026477ef85bd41dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise the Dfu rules module.  <a href="group__dfu.html#gac862c04819deeadf026477ef85bd41dc">More...</a><br /></td></tr>
<tr class="separator:gac862c04819deeadf026477ef85bd41dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa183ba3c5fa84ed5be4d5fdbbfa5ae8d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#gaa183ba3c5fa84ed5be4d5fdbbfa5ae8d">DfuRules_ResetEvent</a> (rule_events_t event)</td></tr>
<tr class="memdesc:gaa183ba3c5fa84ed5be4d5fdbbfa5ae8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset/clear an event or events.  <a href="group__dfu.html#gaa183ba3c5fa84ed5be4d5fdbbfa5ae8d">More...</a><br /></td></tr>
<tr class="separator:gaa183ba3c5fa84ed5be4d5fdbbfa5ae8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5e78ea2184a4bdbff8cb3522acfc390f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#ga5e78ea2184a4bdbff8cb3522acfc390f">DfuRules_SetEvent</a> (rule_events_t event_mask)</td></tr>
<tr class="memdesc:ga5e78ea2184a4bdbff8cb3522acfc390f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set an event or events.  <a href="group__dfu.html#ga5e78ea2184a4bdbff8cb3522acfc390f">More...</a><br /></td></tr>
<tr class="separator:ga5e78ea2184a4bdbff8cb3522acfc390f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa7386910ab6a5b293466b5209866048b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#gaa7386910ab6a5b293466b5209866048b">DfuRules_SetRuleComplete</a> (MessageId message)</td></tr>
<tr class="memdesc:gaa7386910ab6a5b293466b5209866048b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark rules as complete from messaage ID.  <a href="group__dfu.html#gaa7386910ab6a5b293466b5209866048b">More...</a><br /></td></tr>
<tr class="separator:gaa7386910ab6a5b293466b5209866048b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaceb1b91d707be15053a35203d7d97384"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#gaceb1b91d707be15053a35203d7d97384">DfuRules_SetRuleWithEventComplete</a> (MessageId message, rule_events_t event)</td></tr>
<tr class="memdesc:gaceb1b91d707be15053a35203d7d97384"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark rules as complete from message ID and set of events.  <a href="group__dfu.html#gaceb1b91d707be15053a35203d7d97384">More...</a><br /></td></tr>
<tr class="separator:gaceb1b91d707be15053a35203d7d97384"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga5bb167bb410a84fe9f2f400218639eae"><td class="memItemLeft" align="right" valign="top"><a id="ga5bb167bb410a84fe9f2f400218639eae"></a>
const handover_interface&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#ga5bb167bb410a84fe9f2f400218639eae">dfu_peer_handover_if</a></td></tr>
<tr class="memdesc:ga5bb167bb410a84fe9f2f400218639eae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exposes mirror profile interface for handover. <br /></td></tr>
<tr class="separator:ga5bb167bb410a84fe9f2f400218639eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga76fbf2e6e5f01fbea385f0564e46e3c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdfu__rules__task__data__t.html">dfu_rules_task_data_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfu.html#ga76fbf2e6e5f01fbea385f0564e46e3c3">dfu_rules_task_data</a></td></tr>
<tr class="separator:ga76fbf2e6e5f01fbea385f0564e46e3c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>A group of DFU related components. </p>
<p>Rules for the DFU process.</p>
<p>Definition of events which can initiate dfu rule processing.</p>
<p>Header file for the DFU Peer L2CAP channel.</p>
<p>Configuration related definitions for dfu domain.</p>
<p>The DFU domain provides abstraction for GAIA base DFU protocol. </p>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga96f8a8dc2778dba6cef27021df5c57c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga96f8a8dc2778dba6cef27021df5c57c0">&#9670;&nbsp;</a></span>dfu_messages_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__dfu.html#ga96f8a8dc2778dba6cef27021df5c57c0">dfu_messages_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>
<p>Messages that are sent by the dfu module </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga96f8a8dc2778dba6cef27021df5c57c0a936770f2fdf5e4e5300cfde025b4f75b"></a>DFU_REQUESTED_TO_CONFIRM&#160;</td><td class="fielddoc"><p>Message sent after the device has restarted. This indicates that an upgrade has nearly completed and upgrade mode is needed to allow the upgrade to be confirmed </p>
</td></tr>
<tr><td class="fieldname"><a id="gga96f8a8dc2778dba6cef27021df5c57c0a89c7829afe249d105756cfcf1a1120f4"></a>DFU_REQUESTED_IN_PROGRESS&#160;</td><td class="fielddoc"><p>Message sent after the device has restarted. This indicates that an upgrade is in progress and has been interrupted </p>
</td></tr>
<tr><td class="fieldname"><a id="gga96f8a8dc2778dba6cef27021df5c57c0aa4b16d0ab4abea14f0d9e4254c648201"></a>DFU_ACTIVITY&#160;</td><td class="fielddoc"><p>The DFU module has seen some DFU activity </p>
</td></tr>
<tr><td class="fieldname"><a id="gga96f8a8dc2778dba6cef27021df5c57c0a2021ff3642293671975541815760710a"></a>DFU_STARTED&#160;</td><td class="fielddoc"><p>An DFU is now in progress. Started or continued. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga96f8a8dc2778dba6cef27021df5c57c0afefd1f5fb59218e6eaf7d87668016190"></a>DFU_COMPLETED&#160;</td><td class="fielddoc"><p>An DFU has been completed </p>
</td></tr>
<tr><td class="fieldname"><a id="gga96f8a8dc2778dba6cef27021df5c57c0a679951cbd001142ae6fe2e941de88531"></a>DFU_CLEANUP_ON_ABORT&#160;</td><td class="fielddoc"><p>An DFU is aborted, clean up DFU specific entities </p>
</td></tr>
<tr><td class="fieldname"><a id="gga96f8a8dc2778dba6cef27021df5c57c0afa049d034267f327c18e180a80490e83"></a>DFU_ABORTED&#160;</td><td class="fielddoc"><p>An upgrade has been aborted. either owing to device initiated error OR device initiated error in Handover scenario OR Host inititated abort </p>
</td></tr>
<tr><td class="fieldname"><a id="gga96f8a8dc2778dba6cef27021df5c57c0abe45c64e3fae017dc629f8e0fa93a3cc"></a>DFU_READY_FOR_SILENT_COMMIT&#160;</td><td class="fielddoc"><p>The DFU is ready for the silent commit. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga96f8a8dc2778dba6cef27021df5c57c0a3e87c87c437eae09b9ae9c67af578077"></a>DFU_READY_TO_REBOOT&#160;</td><td class="fielddoc"><p>DFU file transfer complete, ready to reboot into new image. App should perform any required shutdown actions, then call <a class="el" href="group__dfu.html#ga33229b417da4eccd7361b3fb0be8d0e9" title="Notify the DFU domain that a reboot can go ahead now.">Dfu_RebootConfirm()</a>. This message is only sent if Dfu_RequireRebootPermission(TRUE) has been called. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga96f8a8dc2778dba6cef27021df5c57c0aa5c87ac0a021a22122988b8b4d9cb421"></a>DFU_TRANSPORT_CONNECTED&#160;</td><td class="fielddoc"><p>An upgrade protocol has connected through a transport </p>
</td></tr>
<tr><td class="fieldname"><a id="gga96f8a8dc2778dba6cef27021df5c57c0af6faef264d4e1efd9a77479e51b4a392"></a>DFU_TRANSPORT_DISCONNECTED&#160;</td><td class="fielddoc"><p>An upgrade protocol has disconnected through transport </p>
</td></tr>
<tr><td class="fieldname"><a id="gga96f8a8dc2778dba6cef27021df5c57c0a76f76696b8c82698a42f04f03220dc2a"></a>DFU_MESSAGE_END&#160;</td><td class="fielddoc"><p>This must be the final message </p>
</td></tr>
</table>

</div>
</div>
<a id="gaef82e85b4aa9c435d5b2905d261006cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaef82e85b4aa9c435d5b2905d261006cb">&#9670;&nbsp;</a></span>dfu_peer_internal_messages_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__dfu.html#gaef82e85b4aa9c435d5b2905d261006cb">dfu_peer_internal_messages_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu_peer.h&gt;</code></p>
<p>Internal messages used by peer . </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggaef82e85b4aa9c435d5b2905d261006cbaf66384009b03e474491d8797bdc8dede"></a>DFU_PEER_INTERNAL_STARTUP_REQ&#160;</td><td class="fielddoc"><p>Message to bring up link to peer </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaef82e85b4aa9c435d5b2905d261006cba989f64bc7431bb4a2d6451b789296163"></a>DFU_PEER_INTERNAL_MESSAGE_MORE_DATA&#160;</td><td class="fielddoc"><p>In some scenarios, MESSAGE_MORE_DATA from streams may be missed if stream configuration at connection setup is delayed. To compensate for the missed MESSAGE_MORE_DATA, rescan the source buffer after connection setup and if data is available request to process it. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaef82e85b4aa9c435d5b2905d261006cba155d6c3ed63ebab3f35fd3016fdd9ac7"></a>DFU_PEER_INTERNAL_CLOSE_SDP_REQ&#160;</td><td class="fielddoc"><p>Message to release resources allocated for SDP search </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaef82e85b4aa9c435d5b2905d261006cba0af06d2741fc46f8d0d5e4f95d398c91"></a>DFU_PEER_INTERNAL_MESSAGE_END&#160;</td><td class="fielddoc"><p>This must be the final message </p>
</td></tr>
</table>

</div>
</div>
<a id="gab3acd1929bc85675aebf5d261d9f4ef4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab3acd1929bc85675aebf5d261d9f4ef4">&#9670;&nbsp;</a></span>dfu_peer_messages_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__dfu.html#gab3acd1929bc85675aebf5d261d9f4ef4">dfu_peer_messages_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu_peer.h&gt;</code></p>

<p>Message IDs from Upgrade Peer to main application task. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggab3acd1929bc85675aebf5d261d9f4ef4a80523ec279add2d0f8747c94165042d9"></a>DFU_PEER_INIT_CFM&#160;</td><td class="fielddoc"><p>Module initialisation complete </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab3acd1929bc85675aebf5d261d9f4ef4a9f923f278e951b900d8c2f2314cafdff"></a>DFU_PEER_MESSAGE_END&#160;</td><td class="fielddoc"><p>This must be the final message </p>
</td></tr>
</table>

</div>
</div>
<a id="gac715668b1c6fa4123fdbded11a052e8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac715668b1c6fa4123fdbded11a052e8f">&#9670;&nbsp;</a></span>dfu_peer_sig_l2cap_status_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__dfu.html#gac715668b1c6fa4123fdbded11a052e8f">dfu_peer_sig_l2cap_status_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>
<p>Enum to indicate the connection status of peer l2cap link. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggac715668b1c6fa4123fdbded11a052e8fa1e0e245098d399b453f2d52b642704e8"></a>dfu_peer_sig_l2cap_connected&#160;</td><td class="fielddoc"><p>The L2CAP link is connected. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggac715668b1c6fa4123fdbded11a052e8fa1445c11efb4f9fb59d4c928c14bfce1f"></a>dfu_peer_sig_l2cap_link_loss&#160;</td><td class="fielddoc"><p>The L2CAP link was disconnected due to link loss. </p>
</td></tr>
</table>

</div>
</div>
<a id="gae2d90969d852d6f26f52e2ebe3d5a41a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae2d90969d852d6f26f52e2ebe3d5a41a">&#9670;&nbsp;</a></span>dfu_peer_state_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__dfu.html#gae2d90969d852d6f26f52e2ebe3d5a41a">dfu_peer_state_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu_peer.h&gt;</code></p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggae2d90969d852d6f26f52e2ebe3d5a41aadd37fa3a4e7fd36e931b52d86c2fc834"></a>DFU_PEER_STATE_IDLE&#160;</td><td class="fielddoc"><p>Awaiting L2CAP registration </p>
</td></tr>
<tr><td class="fieldname"><a id="ggae2d90969d852d6f26f52e2ebe3d5a41aac70ba349e3e91eb18a543f838ee42cd1"></a>DFU_PEER_STATE_DISCONNECTED&#160;</td><td class="fielddoc"><p>No connection </p>
</td></tr>
<tr><td class="fieldname"><a id="ggae2d90969d852d6f26f52e2ebe3d5a41aa05f708701e7ed152c4b93bb4bd5e6395"></a>DFU_PEER_STATE_CONNECTING_ACL&#160;</td><td class="fielddoc"><p>Connecting ACL </p>
</td></tr>
<tr><td class="fieldname"><a id="ggae2d90969d852d6f26f52e2ebe3d5a41aab07ccc3d0be24a8f394ebbd94b1b9db1"></a>DFU_PEER_STATE_CONNECTING_SDP_SEARCH&#160;</td><td class="fielddoc"><p>Searching for Upgrade Peer service </p>
</td></tr>
<tr><td class="fieldname"><a id="ggae2d90969d852d6f26f52e2ebe3d5a41aaccb39e60c54487df333aa28bff7b6cd8"></a>DFU_PEER_STATE_CONNECTING_LOCAL&#160;</td><td class="fielddoc"><p>Locally initiated connection in progress </p>
</td></tr>
<tr><td class="fieldname"><a id="ggae2d90969d852d6f26f52e2ebe3d5a41aa133b1ec9c71fbdec64988a327d84152c"></a>DFU_PEER_STATE_CONNECTING_REMOTE&#160;</td><td class="fielddoc"><p>Remotely initiated connection in progress </p>
</td></tr>
<tr><td class="fieldname"><a id="ggae2d90969d852d6f26f52e2ebe3d5a41aa77d6494e65573b7bbdec39c97edf14af"></a>DFU_PEER_STATE_CONNECTED&#160;</td><td class="fielddoc"><p>Connnected </p>
</td></tr>
<tr><td class="fieldname"><a id="ggae2d90969d852d6f26f52e2ebe3d5a41aaa1b2031a6dbbc673081c710434a01f9e"></a>DFU_PEER_STATE_DISCONNECTING&#160;</td><td class="fielddoc"><p>Disconnection in progress </p>
</td></tr>
</table>

</div>
</div>
<a id="gab11e3465dd07bc0326e6a1fcb7022b28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab11e3465dd07bc0326e6a1fcb7022b28">&#9670;&nbsp;</a></span>dfu_rules_messages_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__dfu.html#gab11e3465dd07bc0326e6a1fcb7022b28">dfu_rules_messages_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu_rules.h&gt;</code></p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggab11e3465dd07bc0326e6a1fcb7022b28a9026961d1149c0d09d4f1fff9ab8d925"></a>DFU_RULES_START_VALIDATION&#160;</td><td class="fielddoc"><p>Start DFU validation process. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab11e3465dd07bc0326e6a1fcb7022b28a7426a385fbebf128d8784f9ac4d109b6"></a>DFU_RULES_KICK_PEER_VALIDATION&#160;</td><td class="fielddoc"><p>Start Peer Validation process </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab11e3465dd07bc0326e6a1fcb7022b28a458ef5ef7a0b5d0009fd934e50fd2f78"></a>DFU_RULES_VALIDATION_COMPLETE&#160;</td><td class="fielddoc"><p>Notify validation complete </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab11e3465dd07bc0326e6a1fcb7022b28a571be2eea807c2b4c43fb07368b02c95"></a>DFU_RULES_RELAY_TRANSFER_COMPLETE&#160;</td><td class="fielddoc"><p>Send Data Transfer Complete info to Peer </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab11e3465dd07bc0326e6a1fcb7022b28a61870925c181a10143882a53950260f9"></a>DFU_RULES_RELAY_RESUME_POINT_INFO&#160;</td><td class="fielddoc"><p>Relay Resume Point info to Peer </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab11e3465dd07bc0326e6a1fcb7022b28a3bc512646b8ed50eff78e18d1911ac99"></a>DFU_RULES_REVERT_UPGRADE&#160;</td><td class="fielddoc"><p>Revert Upgrade during post reboot </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab11e3465dd07bc0326e6a1fcb7022b28a5a7f12b241fbd553d8a053468e00174a"></a>DFU_RULES_START_PEER_DFU&#160;</td><td class="fielddoc"><p>Start Peer DFU </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab11e3465dd07bc0326e6a1fcb7022b28a6ec01e2b1b1f6fbfb8572b1bc57b85ac"></a>DFU_RULES_START_REBOOT&#160;</td><td class="fielddoc"><p>Start Reboot process </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga0bc3db3adff17b2fd6b60f606043cdf7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0bc3db3adff17b2fd6b60f606043cdf7">&#9670;&nbsp;</a></span>Dfu_AllowUpgrades()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Dfu_AllowUpgrades </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>allow</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>

<p>Allow upgrades to be started. </p>
<p>The library used for firmware upgrades will always allow connections. However, it is possible to stop upgrades from beginning or completing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">allow</td><td>allow or disallow upgrades</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if the request has taken effect. This setting can not be changed if an upgrade is in progress in which case the function will return FALSE. </dd></dl>

</div>
</div>
<a id="gad0667cd910f4c7fd6b9757ab11b11eda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad0667cd910f4c7fd6b9757ab11b11eda">&#9670;&nbsp;</a></span>Dfu_ClearPsStore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Dfu_ClearPsStore </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>

<p>Clears upgrade related PSKeys. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if upgrade PSKEYs are cleared, FALSE otherwise</dd></dl>
<p>Clears upgrade related PSKeys. </p>

</div>
</div>
<a id="ga0515580134ae72d6704178d73bf71ea0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0515580134ae72d6704178d73bf71ea0">&#9670;&nbsp;</a></span>Dfu_ClientRegister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Dfu_ClientRegister </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>

<p>Add a client to the UPGRADE module. </p>
<p>Messages from #av_headet_upgrade_messages will be sent to any task registered through this API</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>Task to register as a client </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga08b44c37db10202e11c3f612457c26a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga08b44c37db10202e11c3f612457c26a5">&#9670;&nbsp;</a></span>Dfu_GetContext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">upgrade_context_t Dfu_GetContext </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>

<p>Get the context of the UPGRADE module. </p>
<p>The value is stored in the UPGRADE PsKey and hence is non-volatile</p>
<dl class="section return"><dt>Returns</dt><dd>The non-volatile context of the UPGRADE module from the UPGRADE PsKey </dd></dl>

</div>
</div>
<a id="gaca89d6f479f5c254c186bc9e97976bac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaca89d6f479f5c254c186bc9e97976bac">&#9670;&nbsp;</a></span>Dfu_GetRebootReason()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dfu_reboot_reason_t Dfu_GetRebootReason </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>

<p>Gets the reboot reason. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>REBOOT_REASON_DFU_RESET for defined reboot phase of upgrade else REBOOT_REASON_ABRUPT_RESET for abrupt reset.</dd></dl>
<p>Gets the reboot reason. </p>

</div>
</div>
<a id="ga8dbf3d8df561d4dfba455458e8d6dd5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8dbf3d8df561d4dfba455458e8d6dd5f">&#9670;&nbsp;</a></span>Dfu_HandleDeviceNotInUse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Dfu_HandleDeviceNotInUse </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>

<p>Device is not in use currently so, proceed with the pending silent commit if any. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a id="ga1368263edb13f71ead4033ebf573d82f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1368263edb13f71ead4033ebf573d82f">&#9670;&nbsp;</a></span>Dfu_HandleSystemMessages()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Dfu_HandleSystemMessages </td>
          <td>(</td>
          <td class="paramtype">MessageId&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Message&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>already_handled</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>

<p>Handler for system messages. All of which are sent to the application. </p>
<p>This function is called to handle any system messages that this module is interested in. If a message is processed then the function returns TRUE.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Identifier of the system message </td></tr>
    <tr><td class="paramname">message</td><td>The message content (if any) </td></tr>
    <tr><td class="paramname">already_handled</td><td>Indication whether this message has been processed by another module. The handler may choose to ignore certain messages if they have already been handled.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if the message has been processed, otherwise returns the value in already_handled </dd></dl>

</div>
</div>
<a id="gad66f2c3311962f302e617a7900527c6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad66f2c3311962f302e617a7900527c6f">&#9670;&nbsp;</a></span>Dfu_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Dfu_Init </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>init_task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>
<p>Initialisation point for the over the air support in the upgrade library. </p>

</div>
</div>
<a id="ga099f2bf7cf1bda0db19ee5ba9986eb35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga099f2bf7cf1bda0db19ee5ba9986eb35">&#9670;&nbsp;</a></span>Dfu_IsSilentCommitEnabled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Dfu_IsSilentCommitEnabled </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>

<p>Find out if silent commit is enabled. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if silent commit is set </dd></dl>

</div>
</div>
<a id="gabc7ca274d647a5c21e1a014fe83d8201"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabc7ca274d647a5c21e1a014fe83d8201">&#9670;&nbsp;</a></span>Dfu_IsUpgradeInProgress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Dfu_IsUpgradeInProgress </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>
<p>Get the progress of upgrade.</p>
<p>Returns TRUE if upgrade is in progress else FALSE. </p>

</div>
</div>
<a id="ga33229b417da4eccd7361b3fb0be8d0e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga33229b417da4eccd7361b3fb0be8d0e9">&#9670;&nbsp;</a></span>Dfu_RebootConfirm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Dfu_RebootConfirm </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>

<p>Notify the DFU domain that a reboot can go ahead now. </p>
<p>This function must be called on reciept of a DFU_READY_TO_REBOOT message, and will cause the Upgrade library to reboot into a new image.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a id="gae9cd31d500500aafbbdcf08a2cfb91d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae9cd31d500500aafbbdcf08a2cfb91d8">&#9670;&nbsp;</a></span>Dfu_RequireRebootPermission()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Dfu_RequireRebootPermission </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>permission_required</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>

<p>Turn on or off permission requests for DFU reboots. </p>
<p>By default the DFU domain will reboot the device automatically as required during the upgrade process. This behaviour can be overridden if the application has actions it needs to perform before a device shutdown.</p>
<p>If permission_required is set to TRUE, then a DFU_READY_TO_REBOOT message will be sent to all registered clients instead of rebooting into a new image directly. Otherwise, the message is not sent.</p>
<p>On recipt of DFU_READY_TO_REBOOT, the application must respond by calling <a class="el" href="group__dfu.html#ga33229b417da4eccd7361b3fb0be8d0e9" title="Notify the DFU domain that a reboot can go ahead now.">Dfu_RebootConfirm()</a> once it is ready for the reboot to go ahead, otherwise the upgrade will not complete successfully. This is not required if permission_required is set to FALSE (the default).</p>
<dl class="section note"><dt>Note</dt><dd>Changes to reboot permissions will not take effect until the next time <a class="el" href="group__dfu.html#ga0bc3db3adff17b2fd6b60f606043cdf7" title="Allow upgrades to be started.">Dfu_AllowUpgrades()</a> is called.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">permission_required</td><td>Whether the application should be consulted before rebooting into a new image. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a id="ga06c46b5ebb94926921d101bfc6ef8473"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga06c46b5ebb94926921d101bfc6ef8473">&#9670;&nbsp;</a></span>Dfu_SetContext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Dfu_SetContext </td>
          <td>(</td>
          <td class="paramtype">upgrade_context_t&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>

<p>Set the context of the UPGRADE module. </p>
<p>The value is stored in the UPGRADE PsKey and hence is non-volatile</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dfu_context_t</td><td>Upgrade context to set </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga78582132b088963b509d5cfe786aa54a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga78582132b088963b509d5cfe786aa54a">&#9670;&nbsp;</a></span>Dfu_SetRebootReason()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Dfu_SetRebootReason </td>
          <td>(</td>
          <td class="paramtype">dfu_reboot_reason_t&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>

<p>Sets the reboot reason. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dfu_reboot_reason_t</td><td>Reboot reason</td></tr>
  </table>
  </dd>
</dl>
<p>Sets the reboot reason. </p>

</div>
</div>
<a id="gac5983b5c24f86d45387aee62215dab3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac5983b5c24f86d45387aee62215dab3a">&#9670;&nbsp;</a></span>Dfu_SetSilentCommitSupported()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Dfu_SetSilentCommitSupported </td>
          <td>(</td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>is_silent_commit_supported</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu.h&gt;</code></p>

<p>Set if silent commit is supported. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">is_silent_commit_supported</td><td>Used to assign required value (0 or 1) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a id="ga02d993c21fc9301b9df55d7814200e74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga02d993c21fc9301b9df55d7814200e74">&#9670;&nbsp;</a></span>DfuPeer_ClientRegister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DfuPeer_ClientRegister </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>tsk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu_peer.h&gt;</code></p>

<p>Add a client to the DEVICE UPGRADE peer module. </p>
<p>Messages will be sent to any task registered through this API</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>Task to register as a client</td></tr>
  </table>
  </dd>
</dl>
<p>Add a client to the DEVICE UPGRADE peer module. </p>

</div>
</div>
<a id="ga430a2b088beb04736466a383ad67fe9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga430a2b088beb04736466a383ad67fe9f">&#9670;&nbsp;</a></span>DfuPeer_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool DfuPeer_Init </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>init_task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu_peer.h&gt;</code></p>

<p>Initialise Device upgrade peer task. </p>
<p>Called at start up to initialise the Device upgrade peer task </p>

</div>
</div>
<a id="gad6690aec897c93ab6f7601ad166d5087"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad6690aec897c93ab6f7601ad166d5087">&#9670;&nbsp;</a></span>DfuPeer_InitiateLinkToPeer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DfuPeer_InitiateLinkToPeer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu_peer.h&gt;</code></p>

<p>Initiate Peer connect request. </p>
<p>Called when UPGRADE_PEER_CONNECT_REQ msg is received from upgrade library</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none</dd></dl>
<p>Called when UPGRADE_PEER_CONNECT_REQ msg is received from upgrade library </p>

</div>
</div>
<a id="gaff80ef921c24192d56f93715b10b1aac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaff80ef921c24192d56f93715b10b1aac">&#9670;&nbsp;</a></span>DfuPeer_InitiatePeerLinkDisconnection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DfuPeer_InitiatePeerLinkDisconnection </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu_peer.h&gt;</code></p>

<p>Initiate Peer disconnection request. </p>
<p>Called to disconnect the L2CAP connection with Peer device and change the state of the device</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none</dd></dl>
<p>Initiate Peer disconnection request.</p>
<p>Called to disconnect the L2CAP connection with Peer device and change the state of the device </p>

</div>
</div>
<a id="gaa3d12ed56e5ff43c16dd74b4577ce4a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa3d12ed56e5ff43c16dd74b4577ce4a0">&#9670;&nbsp;</a></span>DfuPeer_SetRole()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DfuPeer_SetRole </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>role</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu_peer.h&gt;</code></p>

<p>Set the current main role (Primary/Secondary). </p>
<p>Update the current main role in DFU domain and in upgrade peer lib.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">role</td><td>TRUE if Primary and FALSE if Secondary. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a id="ga79394ab46bd4d389f6486585677cb136"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga79394ab46bd4d389f6486585677cb136">&#9670;&nbsp;</a></span>DfuPeer_StillInUseAfterAbort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool DfuPeer_StillInUseAfterAbort </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu_peer.h&gt;</code></p>

<p>Check if Abort is trigerred and device upgrade peer still in use. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if abort is initiated and device upgrade peer still in use, else FALSE.</dd></dl>
<p>Check if Abort is trigerred and device upgrade peer still in use.</p>
<dl class="section note"><dt>Note</dt><dd>This API will be used only for Primary device. Since that device is the starting point of a new DFU after abort. </dd></dl>

</div>
</div>
<a id="ga6e0fbe02301424332a5d8917da4253c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6e0fbe02301424332a5d8917da4253c4">&#9670;&nbsp;</a></span>DfuRules_GetEvents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rule_events_t DfuRules_GetEvents </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu_rules.h&gt;</code></p>

<p>Get set of active events. </p>
<dl class="section return"><dt>Returns</dt><dd>The set of active events. </dd></dl>

</div>
</div>
<a id="ga15fa07d7d6c3a6281121e3c4d4f1eea8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga15fa07d7d6c3a6281121e3c4d4f1eea8">&#9670;&nbsp;</a></span>DfuRules_GetRuleSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rule_set_t DfuRules_GetRuleSet </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu_rules.h&gt;</code></p>

<p>Get handle on the rule set, in order to directly set/clear events. </p>
<dl class="section return"><dt>Returns</dt><dd>rule_set_t The rule set. </dd></dl>

</div>
</div>
<a id="gac862c04819deeadf026477ef85bd41dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac862c04819deeadf026477ef85bd41dc">&#9670;&nbsp;</a></span>DfuRules_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool DfuRules_Init </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>result_task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu_rules.h&gt;</code></p>

<p>Initialise the Dfu rules module. </p>
<p>Initialise the Dfu rules module. </p>

</div>
</div>
<a id="gaa183ba3c5fa84ed5be4d5fdbbfa5ae8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa183ba3c5fa84ed5be4d5fdbbfa5ae8d">&#9670;&nbsp;</a></span>DfuRules_ResetEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DfuRules_ResetEvent </td>
          <td>(</td>
          <td class="paramtype">rule_events_t&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu_rules.h&gt;</code></p>

<p>Reset/clear an event or events. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">event</td><td>Events to clear This function is called to clear an event or set of events that was previously set. Clear event will reset any rule that was run for event. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga5e78ea2184a4bdbff8cb3522acfc390f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5e78ea2184a4bdbff8cb3522acfc390f">&#9670;&nbsp;</a></span>DfuRules_SetEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DfuRules_SetEvent </td>
          <td>(</td>
          <td class="paramtype">rule_events_t&#160;</td>
          <td class="paramname"><em>event_mask</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu_rules.h&gt;</code></p>

<p>Set an event or events. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">event</td><td>Events to set that will trigger rules to run This function is called to set an event or events that will cause the relevant rules in the rules table to run. Any actions generated will be sent as message to the client_task </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaa7386910ab6a5b293466b5209866048b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa7386910ab6a5b293466b5209866048b">&#9670;&nbsp;</a></span>DfuRules_SetRuleComplete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DfuRules_SetRuleComplete </td>
          <td>(</td>
          <td class="paramtype">MessageId&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu_rules.h&gt;</code></p>

<p>Mark rules as complete from messaage ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">message</td><td>Message ID that rule(s) generated This function is called to mark rules as completed, the message parameter is used to determine which rules can be marked as completed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaceb1b91d707be15053a35203d7d97384"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaceb1b91d707be15053a35203d7d97384">&#9670;&nbsp;</a></span>DfuRules_SetRuleWithEventComplete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DfuRules_SetRuleWithEventComplete </td>
          <td>(</td>
          <td class="paramtype">MessageId&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rule_events_t&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu_rules.h&gt;</code></p>

<p>Mark rules as complete from message ID and set of events. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">message</td><td>Message ID that rule(s) generated </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">event</td><td>Event or set of events that trigger the rule(s) This function is called to mark rules as completed, the message and event parameter is used to determine which rules can be marked as completed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ga76fbf2e6e5f01fbea385f0564e46e3c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga76fbf2e6e5f01fbea385f0564e46e3c3">&#9670;&nbsp;</a></span>dfu_rules_task_data</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdfu__rules__task__data__t.html">dfu_rules_task_data_t</a> dfu_rules_task_data</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/domains/dfu/dfu_rules.h&gt;</code></p>
<p>Make the DFU Rules instance visible throughout the component </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
